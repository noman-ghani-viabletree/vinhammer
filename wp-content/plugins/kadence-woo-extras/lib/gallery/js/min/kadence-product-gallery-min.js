jQuery((function($){var t={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return t.Android()||t.BlackBerry()||t.iOS()||t.Opera()||t.Windows()}},i=function(i){function a(){$("#pg-main-"+h).css("height","auto"),setTimeout((function(){var t=$("#pg-main-"+h+" .splide__track").height();$("#pg-thumbnails-"+h).css("height",t),$("#pg-main-"+h).css("height",t)}),30)}function e(t,i,e,o){"left"===t?($("#pg-main-"+h).css("margin-left",i+"%"),$("#pg-main-"+h).css("margin-right",""),setTimeout((function(){$("#pg-thumbnails-"+h).css("width",i+"%"),$("#pg-thumbnails-"+h+" .thumb-wrapper").css("maxWidth","")}),30),a()):"right"===t?($("#pg-main-"+h).css("margin-right",i+"%"),$("#pg-main-"+h).css("margin-left",""),setTimeout((function(){$("#pg-thumbnails-"+h).css("width",i+"%"),$("#pg-thumbnails-"+h+" .thumb-wrapper").css("maxWidth","")}),30),a()):($("#pg-main-"+h).css("margin-left",""),$("#pg-main-"+h).css("margin-right",""),$("#pg-main-"+h).css("height",""),$("#pg-thumbnails-"+h).css("height",""),$("#pg-thumbnails-"+h).css("width",""),o<e?$("#pg-thumbnails-"+h+" .thumb-wrapper").css("maxWidth",Math.floor(100/e*o)+"%"):$("#pg-thumbnails-"+h+" .thumb-wrapper").css("maxWidth","none"))}function o(){$(window).width()<769?e(b,T,x,k):$(window).width()<1024?e(w,P,z,k):e(v,C,y,k)}function n(){var t;$("#pg-thumbnails-"+h).find(".splide__slide").hover((function(){$thumb=$(this),clearTimeout(t),t=setTimeout((function(){$thumb.trigger("click")}),100)}))}function r(){if(kadence_pg.lightbox)return GLightbox({selector:"#pg-main-"+h+' .splide__slide a[data-rel^="lightbox"]:not([target="_blank"])',touchNavigation:!0,skin:kadence_pg.lightbox_style,loop:!0,openEffect:"fade",closeEffect:"fade",autoplayVideos:!0,plyr:{css:kadence_pg.plyr_css,js:kadence_pg.plyr_js,config:{hideControls:!0}}})}function s(){kadence_pg.lightbox&&tt&&tt.reload()}function m(){N&&(q.remove(".splide__slide:not(.woo-main-slide)"),q.add(G.original.images),k=J,U&&(U.remove(".splide__slide:not(.woocommerce-main-image-thumb)"),$("#pg-thumbnails-"+h).css("height","auto"),k<V&&"left"!==L&&"right"!==L?U.options.perPage=k:U.options.perPage<V?(U.options.perPage=V,j&&(U.options.focus="left"!==L&&"right"!==L||k>V&&("left"===L||"right"===L)?"center":void 0)):U.options.perPage>=V&&j&&(U.options.focus="left"!==L&&"right"!==L||k>V&&("left"===L||"right"===L)?"center":void 0),U.add(G.original.thumbnails),B&&n()),e(L,Q,V,J),s(),N=!1)}function g(t){!1===G[t]?m():d(G[t])}function d(t){N=!0,q.remove(".splide__slide:not(.woo-main-slide)"),q.add(t.images),k=t.thumbnails.length+1,U&&(U.remove(".splide__slide:not(.woocommerce-main-image-thumb)"),$("#pg-thumbnails-"+h).css("height","auto"),k<V&&"left"!==L&&"right"!==L?U.options.perPage=k:U.options.perPage<V?(U.options.perPage=V,j&&(U.options.focus="left"!==L&&"right"!==L||k>V&&("left"===L||"right"===L)?"center":void 0)):U.options.perPage>=V&&j&&(U.options.focus="left"!==L&&"right"!==L||k>V&&("left"===L||"right"===L)?"center":void 0),U.add(t.thumbnails),B&&n()),e(L,Q,V,k),s()}function c(t){var i={action:"kadence_variation_images_load_frontend_ajax",ajaxkwsvNonce:kadence_pg.ajax_nonce,variation_id:t,post_id:h};$.post(kadence_pg.ajax_url,i,(function(t){t.length?d(t=JSON.parse(t)):m()}))}function l(){var i=$("#pg-main-"+h).find(".woocommerce-main-image"),a=kadence_pg.lightbox?i.find("img"):$("#pg-main-"+h).find(".woo-main-slide img"),e=$("#pg-thumbnails-"+h).find(".woocommerce-main-image-thumb"),o=e.find("img"),n;(a.kt_wc_reset_variation_attr("src"),a.kt_wc_reset_variation_attr("srcset"),a.kt_wc_reset_variation_attr("data-caption"),a.kt_wc_reset_variation_attr("alt"),!0===F&&(void 0!==a.attr("data-o_data-caption")?(i.find(".sp-gal-image-caption").html(a.attr("data-o_data-caption")),i.find(".sp-gal-image-caption").fadeIn()):i.find(".sp-gal-image-caption").fadeOut()),i.hasClass("kt-woo-orig-video-link")&&(i.addClass("kt-woo-video-link"),i.find(".kt-woo-play-btn").show(),e.find(".kt-woo-play-btn").show(),i.removeClass("kt-woo-orig-video-link")),a.kt_wc_reset_variation_attr("title"),a.kt_wc_reset_variation_attr("data-zoom-image"),o.kt_wc_reset_variation_attr("src"),o.kt_wc_reset_variation_attr("srcset"),o.kt_wc_reset_variation_attr("alt"),i.kt_wc_reset_variation_attr("href"),m(),$("#pg-main-"+h).data("zoom-active")&&!t.any())&&(1<q.length&&q.go(0),$(".zoomContainer").remove(),$("#pg-main-"+h+" .is-active img").removeData("elevateZoom"),$("#pg-main-"+h+" .is-active img").removeData("zoomImage"),$("#pg-main-"+h+" .is-active img").elevateZoom({zoomType:Z,cursor:"crosshair",zoomWindowFadeIn:300,zoomWindowFadeOut:300}));s()}this.$gallery=i;var _=i.data("speed"),h=i.data("product-id"),p=i.data("animation"),u=i.data("animation-speed"),f=i.data("arrows"),v=i.data("layout"),w=i.data("md-layout"),b=i.data("sm-layout"),k=i.data("gallery-items"),y=i.data("thumb-show"),z=i.data("md-thumb-show"),x=i.data("sm-thumb-show"),C=i.data("thumb-width"),P=i.data("md-thumb-width"),T=i.data("sm-thumb-width"),W=i.data("thumb-gap"),I=i.data("md-thumb-gap"),O=i.data("sm-thumb-gap"),j=i.data("thumb-center"),A=i.data("auto"),D=i.data("auto-height"),F=i.data("visible-captions"),S=i.data("zoom-active"),Z=i.data("zoom-type"),B=i.data("thumb-hover"),M=i.find(".splide__track").height(),E=!1,N=!1,H="ltr",G=!1,J=k;$("#pg-extra-"+h).length&&!1===(G=$("#pg-extra-"+h).data("product_variation_images")).is_ajax&&!1===G.has_variation_images&&(G=!1),$('html[dir="rtl"]').length&&(H="rtl"),S&&!t.any()&&$(window).width()>790&&(E=!0),i.addClass("splide-initial");var L=v,Q=C,V=y;$(window).width()<769?(L=b,Q=T,V=x):$(window).width()<1024&&(L=w,Q=P,V=z),"tiles"!==L&&"grid"!==L&&"list"!==L||(A=!1);var q=new Splide("#pg-main-"+h,{type:p?"fade":"slide",autoplay:!0===A,rewind:!0,pagination:!0,arrows:!!f,perPage:1,pauseOnHover:!1!==E,direction:H,interval:void 0!==_?_:7e3,speed:void 0!==u?u:400,easing:void 0!==u&&u>1e3?"linear":"cubic-bezier(0.25, 1, 0.5, 1)"}),K;if(q.on("mounted",(function(){i.addClass("kt-product-gal-loaded")})),!1===A&&!0===D&&("above"===L||"slider"===L)){var R=t=>{var i=q.Components.Slides.getAt("number"==typeof t?t:q.index).slide;i.parentElement.style.height=i.firstChild.offsetHeight+"px"};q.on("mounted move resize",R)}if("left"!==L&&"right"!==L||(a(),q.on("mounted",(function(){setTimeout((function(){a()}),100)}))),e(L,Q,V,k),$("#pg-thumbnails-"+h).length){var U=new Splide("#pg-thumbnails-"+h,{direction:"left"===v||"right"===v?"ttb":H,focus:j&&("left"!==L&&"right"!==L||k>y&&("left"===L||"right"===L))?"center":void 0,height:"100%",perPage:k<y&&"left"!==v&&"right"!==v?k:y,gap:W,rewind:!0,pagination:!1,isNavigation:!0,drag:!1,arrows:!0,breakpoints:{767:{direction:"left"===b||"right"===b?"ttb":H,perPage:k<x&&"left"!==b&&"right"!==b?k:x,gap:O},1024:{direction:"left"===w||"right"===w?"ttb":H,perPage:k<z&&"left"!==w&&"right"!==w?k:z,gap:I}}});q.sync(U),q.mount(),U.mount()}else q.mount();if($(window).on("resize",(function(){clearTimeout(K),K=setTimeout(o(),100)})),B&&U&&n(),S&&!t.any()&&$(window).width()>790){function X(){$(".zoomContainer").remove(),$("#pg-main-"+h+" .is-active img").removeData("elevateZoom"),$("#pg-main-"+h+" .is-active img").removeData("zoomImage"),$("#pg-main-"+h+" .is-active img").elevateZoom({zoomType:Z,cursor:"crosshair",zoomWindowFadeIn:300,zoomWindowFadeOut:300})}var Y;q.on("move",(function(){$(".zoomContainer").remove()})),q.on("moved",(function(){setTimeout((function(){X()}),100)})),$(window).on("resize",(function(){clearTimeout(Y),Y=setTimeout(X,200)})),X()}var tt=r();$(".variations_form").find(".single_variation").on("show_variation",(function(i,a,e){var o=$("#pg-main-"+h).find(".woocommerce-main-image"),n=kadence_pg.lightbox?o.find("img"):$("#pg-main-"+h).find(".woo-main-slide img"),r=$("#pg-thumbnails-"+h).find(".woocommerce-main-image-thumb"),m=r.find("img");if(a&&a.image.src&&a.image.src.length>1){var d;$("#pg-main-"+h).find('.splide__slide img[data-o_src="'+a.image.src+'"]').length>0&&l();var _=a.image.gallery_thumbnail_src.replace(a.image.gallery_thumbnail_src_w+"x"+a.image.gallery_thumbnail_src_h,Math.floor(a.image.gallery_thumbnail_src_w/2)+"x"+Math.floor(a.image.gallery_thumbnail_src_h/2)),p=$("#pg-thumbnails-"+h).find('.splide__slide img[src="'+_+'"]'),u;if(0==p.length&&(p=$("#pg-thumbnails-"+h).find('.splide__slide img[src="'+a.image.gallery_thumbnail_src+'"]')),p.length>0&&!G)return p.parent().trigger("click"),void($("#pg-main-"+h).data("zoom-active")&&!t.any()&&($(".zoomContainer").remove(),$("#pg-main-"+h+" .is-active img").removeData("elevateZoom"),$("#pg-main-"+h+" .is-active img").removeData("zoomImage"),$("#pg-main-"+h+" .is-active img").elevateZoom({zoomType:Z,cursor:"crosshair",zoomWindowFadeIn:300,zoomWindowFadeOut:300})));1<q.length&&q.go(0),n.kt_wc_set_variation_attr("data-zoom-image",a.image.full_src),n.kt_wc_set_variation_attr("src",a.image.src),a.image.srcset?n.kt_wc_set_variation_attr("srcset",a.image.srcset):n.kt_wc_set_variation_attr("srcset",""),a.image.title?n.kt_wc_set_variation_attr("title",a.image.title):n.kt_wc_set_variation_attr("title",""),a.image.caption?n.kt_wc_set_variation_attr("data-caption",a.image.caption):n.kt_wc_set_variation_attr("data-caption",""),!0===F&&(a.image.caption?(o.find(".sp-gal-image-caption").html(a.image.caption),o.find(".sp-gal-image-caption").fadeIn()):o.find(".sp-gal-image-caption").fadeOut()),o.hasClass("kt-woo-video-link")&&(o.find(".kt-woo-play-btn").hide(),r.find(".kt-woo-play-btn").hide(),o.removeClass("kt-woo-video-link"),o.addClass("kt-woo-orig-video-link")),n.kt_wc_set_variation_attr("alt",a.image.alt),o.kt_wc_set_variation_attr("href",a.image.full_src),m.kt_wc_set_variation_attr("src",a.image.gallery_thumbnail_src),a.image.gallery_thumbnail_srcset?m.kt_wc_set_variation_attr("srcset",a.image.gallery_thumbnail_srcset):m.kt_wc_set_variation_attr("srcset",""),m.kt_wc_set_variation_attr("alt",a.image.alt),G&&(G.is_ajax?c(a.variation_id):g(a.variation_id)),$("#pg-main-"+h).data("zoom-active")&&!t.any()&&($(".zoomContainer").remove(),$("#pg-main-"+h+" .is-active img").removeData("elevateZoom"),$("#pg-main-"+h+" .is-active img").removeData("zoomImage"),$("#pg-main-"+h+" .is-active img").elevateZoom({zoomType:Z,cursor:"crosshair",zoomWindowFadeIn:300,zoomWindowFadeOut:300})),s()}else l()})),$.fn.kt_wc_set_variation_attr=function(t,i){void 0===this.attr("data-o_"+t)&&this.attr("data-o_"+t,this.attr(t)?this.attr(t):""),this.attr(t,i)},$.fn.kt_wc_reset_variation_attr=function(t){void 0!==this.attr("data-o_"+t)&&this.attr(t,this.attr("data-o_"+t))},$(".variations_form").on("click",".reset_variations",(function(){l()}))};$.fn.kt_wc_product_gallery=function(){var t=this;if("function"==typeof Splide)new i(t);else var a=setInterval((function(){"function"==typeof Splide&&(new i(t),clearInterval(a))}),200);return this},$(".kadence-ga-splide-init").each((function(){$(this).kt_wc_product_gallery()}))}));