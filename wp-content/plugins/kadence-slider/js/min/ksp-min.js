/*
 * imagesLoaded PACKAGED v3.1.5
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
/*
 * Sequence.js
 * The responsive CSS animation framework for creating unique sliders,
 * presentations, banners, and other step-based applications.
 * @ link https://github.com/IanLunn/Sequence
 * @ author IanLunn
 * @ version 2.1.0
 * @ license http://sequencejs.com/licenses/
 * 
 */
function defineSequence(b,E){"use strict";var x=[],I=0,e;return function(n,r){function p(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(e,t){for(var i in t)e[i]=t[i];return e}function T(e,t){var i;return e.currentStyle?i=e.currentStyle[t]:document.defaultView&&document.defaultView.getComputedStyle&&(i=document.defaultView.getComputedStyle(e,"")[t]),i}function c(e,t,i){if(e.addEventListener)return e.addEventListener(t,i,!1),i;if(e.attachEvent){var n=function(){i.call(e)};return e.attachEvent("on"+t,n),n}}function s(e,t,i){e.addEventListener?e.removeEventListener(t,i,!1):e.detachEvent&&e.detachEvent("on"+t,i)}function w(e){var t,i;return i=-1<e.indexOf("ms")?1:1e3,t="0s"==e?0:parseFloat(e.replace("s",""))*i}function d(e,t){return void 0!==e?new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className):void 0}function h(e,t){var i,n,a;for(!1===p(e)&&(n=1,e=[e]),n=e.length,a=0;a<n;a++)!1===d(i=e[a],t)&&(i.className+=(i.className?" ":"")+t)}function u(e,t){var i,n,a;for(!1===p(e)?(n=1,e=[e]):n=e.length,a=0;a<n;a++)!0===d(i=e[a],t)&&(i.className=i.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))}function i(e,t){var i=e.getBoundingClientRect(),n=!1;return t.clientX>=i.left&&t.clientX<=i.right&&t.clientY>=i.top&&t.clientY<=i.bottom&&(n=!0),n}function f(e,t,i){if("BODY"===t.nodeName)return!1;if(e!==t)return f(e,(i=t).parentNode,i);if(void 0!==i)for(var n=i,a=e.getElementsByTagName(n.nodeName),r=a.length;r--;)if(n===a[r])return r+1}function a(e){var t=0,i=E.DIRECTION_NONE;return(void 0!==e.left||void 0!==e.right)&&(t+=1),(void 0!==e.up||void 0!==e.down)&&(t+=2),1===t?i=E.DIRECTION_HORIZONTAL:2===t?i=E.DIRECTION_VERTICAL:3===t&&(i=E.DIRECTION_ALL),i}function l(e,t){var i="seq-",n="no-touch";!0===t.touch&&(n="touch"),h(e,i+n)}var e=n.getAttribute("data-seq-enabled");if(null!==e)return x[e];n.setAttribute("data-seq-enabled",I),I++;var v={startingStepId:1,startingStepAnimatesIn:!1,cycle:!0,phaseThreshold:!0,reverseWhenNavigatingBackwards:!1,reverseTimingFunctionWhenNavigatingBackwards:!1,moveActiveStepToTop:!0,animateCanvas:!0,animateCanvasDuration:250,autoPlay:!1,autoPlayInterval:5e3,autoPlayDelay:null,autoPlayDirection:1,autoPlayButton:!0,autoPlayPauseOnHover:!0,navigationSkip:!0,navigationSkipThreshold:250,fadeStepWhenSkipped:!0,fadeStepTime:500,ignorePhaseThresholdWhenSkipped:!1,preventReverseSkipping:!1,nextButton:!0,prevButton:!0,pagination:!0,preloader:!1,preloadTheseSteps:[1],preloadTheseImages:[],hideStepsUntilPreloaded:!1,pausePreloader:!1,keyNavigation:!1,numericKeysGoToSteps:!1,keyEvents:{left:function(e){e.prev()},right:function(e){e.next()}},swipeNavigation:!0,swipeEvents:{left:function(e){e.next()},right:function(e){e.prev()},up:void 0,down:void 0},swipeHammerOptions:{},hashTags:!1,hashDataAttribute:!1,hashChangesOnFirstStep:!1,fallback:{speed:500}},t=50,m=100,g={WebkitAnimation:"-webkit-",animation:""},S=function(e,c,r){function t(e){g.cssText=e}function o(e,t){return typeof e===t}function a(e,t){return!!~(""+e).indexOf(t)}function s(e,t){for(var i in e){var n=e[i];if(!a(n,"-")&&g[n]!==r)return"pfx"!=t||n}return!1}function d(e,t,i){for(var n in e){var a=t[e[n]];if(a!==r)return!1===i?e[n]:o(a,"function")?a.bind(i||t):a}return!1}function n(e,t,i){var n=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+b.join(n+" ")+n).split(" ");return o(t,"string")||o(t,"undefined")?s(a,t):d(a=(e+" "+T.join(n+" ")+n).split(" "),t,i)}var i,u,l,p="2.8.3",h={},f=c.documentElement,v="modernizr",m=c.createElement(v),g=m.style,y=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),k="Webkit Moz O ms",b=k.split(" "),T=k.toLowerCase().split(" "),w="http://www.w3.org/2000/svg",S={},P=[],E=P.slice,x=function(e,t,i,n){var a,r,o,s,d=c.createElement("div"),u=c.body,l=u||c.createElement("body");if(parseInt(i,10))for(;i--;)(o=c.createElement("div")).id=n?n[i]:v+(i+1),d.appendChild(o);return a=["&#173;",'<style id="s',v,'">',e,"</style>"].join(""),d.id=v,(u?d:l).innerHTML+=a,l.appendChild(d),u||(l.style.background="",l.style.overflow="hidden",s=f.style.overflow,f.style.overflow="hidden",f.appendChild(l)),r=t(d,e),u?d.parentNode.removeChild(d):(l.parentNode.removeChild(l),f.style.overflow=s),!!r},I={}.hasOwnProperty;for(var A in l=o(I,"undefined")||o(I.call,"undefined")?function(e,t){return t in e&&o(e.constructor.prototype[t],"undefined")}:function(e,t){return I.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(n){var a=this;if("function"!=typeof a)throw new TypeError;var r=E.call(arguments,1),o=function(){if(this instanceof o){var e=function(){};e.prototype=a.prototype;var t=new e,i=a.apply(t,r.concat(E.call(arguments)));return Object(i)===i?i:t}return a.apply(n,r.concat(E.call(arguments)))};return o}),S.touch=function(){var t;return"ontouchstart"in e||e.DocumentTouch&&c instanceof DocumentTouch?t=!0:x(["@media (",y.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){t=9===e.offsetTop}),t},S.cssanimations=function(){return n("animationName")},S.csstransforms=function(){return!!n("transform")},S.csstransitions=function(){return n("transition")},S.svg=function(){return!!c.createElementNS&&!!c.createElementNS(w,"svg").createSVGRect},S)l(S,A)&&(u=A.toLowerCase(),h[u]=S[A](),P.push((h[u]?"":"no-")+u));return h.addTest=function(e,t){if("object"==typeof e)for(var i in e)l(e,i)&&h.addTest(i,e[i]);else{if(e=e.toLowerCase(),h[e]!==r)return h;t="function"==typeof t?t():t,"undefined"!=typeof enableClasses&&enableClasses&&(f.className+=" "+(t?"":"no-")+e),h[e]=t}return h},t(""),m=i=null,h._version=p,h._prefixes=y,h._domPrefixes=T,h._cssomPrefixes=b,h.testProp=function(e){return s([e])},h.testAllProps=n,h.testStyles=x,h.prefixed=function(e,t,i){return t?n(e,t,i):n(e,"pfx")},h}(window,window.document),y,k;Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var i=this.length>>>0;for(t=+t||0,Math.abs(t)===1/0&&(t=0),t<0&&((t+=i)<0&&(t=0));t<i;t++)if(this[t]===e)return t;return-1}),void 0!==document.hidden?(y="hidden",k="visibilitychange"):void 0!==document.mozHidden?(y="mozHidden",k="mozvisibilitychange"):void 0!==document.msHidden?(y="msHidden",k="msvisibilitychange"):void 0!==document.webkitHidden&&(y="webkitHidden",k="webkitvisibilitychange");var P={modernizr:S};return P.ui={defaultElements:{nextButton:"seq-next",prevButton:"seq-prev",autoPlayButton:"seq-autoplay",pagination:"seq-pagination",preloader:"seq-preloader"},getElements:function(e,t){var i,n,a,r,o,s=[];for(a=(n=!0===t?document.querySelectorAll("."+this.defaultElements[e]):document.querySelectorAll(t)).length,o=0;o<a;o++)(null===(r=(i=n[o]).getAttribute("rel"))||r===P.$container.getAttribute("id"))&&s.push(i);return s},show:function(e,t){!0===P.propertySupport.transitions?(e.style[S.prefixed("transitionDuration")]=t+"ms",e.style[S.prefixed("transitionProperty")]="opacity, "+S.prefixed("transform"),e.style.opacity=1):P.animationFallback.animate(e,"opacity","",0,1,t)},hide:function(e,t,i){!0===P.propertySupport.transitions?(e.style[S.prefixed("transitionDuration")]=t+"ms",e.style[S.prefixed("transitionProperty")]="opacity, "+S.prefixed("transform"),e.style.opacity=0):P.animationFallback.animate(e,"opacity","",1,0,t),void 0!==i&&(P.hideTimer=setTimeout(function(){i()},t))}},P.autoPlay={init:function(){P.isAutoPlayPaused=!1,P.isAutoPlaying=!1},getDelay:function(e,t,i){switch(e){case!0:e=null===t?i:t;break;case!1:case void 0:e=0}return e},start:function(e,t){if(!0===P.isAutoPlaying||!1===P.isReady)return!1;var i=P.options;return e=this.getDelay(e,i.autoPlayDelay,i.autoPlayInterval),void 0===t&&P.started(P),h(P.$container,"seq-autoplaying"),h(P.$autoPlay,"seq-autoplaying"),i.autoPlay=!0,!(P.isAutoPlaying=!0)===P.isAnimating&&(P.autoPlayTimer=setTimeout(function(){1===i.autoPlayDirection?P.next():P.prev()},e)),!0},stop:function(){return!0===P.options.autoPlay&&!0===P.isAutoPlaying&&(P.options.autoPlay=!1,P.isAutoPlaying=!1,clearTimeout(P.autoPlayTimer),u(P.$container,"seq-autoplaying"),u(P.$autoPlay,"seq-autoplaying"),P.stopped(P),!0)},unpause:function(){return!0===P.isAutoPlayPaused&&(P.isAutoPlayPaused=!1,this.start(!0),!0)},pause:function(){return!0===P.options.autoPlay&&(P.isAutoPlayPaused=!0,this.stop(),!0)}},P.canvas={init:function(e){void 0!==P.$screen&&(P.$screen.style.height="100%",P.$screen.style.width="100%"),P.canvas.getTransformProperties()},getSteps:function(e){var t,i,n,a=[],r=e.children,o=r.length;for(P.stepProperties={},n=0;n<o;n++)i=r[n],t=n+1,a.push(i),P.stepProperties[t]={},P.stepProperties[t].isActive=!1;return a},getTransformProperties:function(){var e,t,i,n;for(e=0;e<P.noOfSteps;e++)t=P.$steps[e],i=e+1,(n={seqX:0,seqY:0,seqZ:0}).seqX+=-1*t.offsetLeft,n.seqY+=-1*t.offsetTop,P.stepProperties[i].canvasTransform=n},move:function(e,t){if(!0!==P.options.animateCanvas)return!1;var i,n=0;return!0===t&&!1===P.firstRun&&(n=P.options.animateCanvasDuration),!1===P.isFallbackMode&&(i=P.stepProperties[e].canvasTransform,P.$canvas.style[S.prefixed("transitionDuration")]=n+"ms",P.$canvas.style[S.prefixed("transform")]="translateX("+i.seqX+"px) translateY("+i.seqY+"px) translateZ("+i.seqZ+"px) "),!0},removeNoJsClass:function(){if(!0!==P.isFallbackMode)for(var e=0;e<P.$steps.length;e++){var t=P.$steps[e];if(!0===d(t,"seq-in")){var i=e+1;P.animation.resetInheritedSpeed(i),u(t,"seq-in")}}}},P.animation={getPhaseProperties:function(e){var t,i,n,a,r=P.$steps[e-1],o=r.querySelectorAll("*[data-seq]"),s=r.querySelectorAll("*"),d=s.length,u=[],l=[],c=[],p=[],h=[],f=[];for(i=0;i<d;i++)n=w(T(t=s[i],S.prefixed("transitionDuration"))),a=w(T(t,S.prefixed("transitionDelay"))),p.push(n),h.push(a),f.push(n+a),null!==t.getAttribute("data-seq")&&(u.push(n),l.push(a),c.push(n+a));var v=Math.max.apply(Math,p),m=Math.max.apply(Math,h),g=Math.max.apply(Math,f),y,k,b;return{stepId:e,stepElement:r,children:s,animatedChildren:o,watchedTimings:{maxDuration:Math.max.apply(Math,u),maxDelay:Math.max.apply(Math,l),maxTotal:Math.max.apply(Math,c)},timings:{maxDuration:v,maxDelay:m,maxTotal:g}}},getPhaseThreshold:function(e,t,i,n){var a=0;return!0===i&&!0===P.options.ignorePhaseThresholdWhenSkipped&&(e=!0),void 0===e&&(!0===t?a=n:!1!==t&&(a=t)),a},getReversePhaseDelay:function(e,t,i,n,a){var r=0,o=0,s=0;return!0===i||!1!==n&&!1!==a||(0<(r=e-t)?s=r:r<0&&(o=Math.abs(r))),{next:s,current:o}},moveActiveStepToTop:function(e,t){if(!0===P.options.moveActiveStepToTop){var i=P.$steps[P.prevStepId-1],n=P.noOfSteps-1;i.style.zIndex=1,e.style.zIndex=n,t.style.zIndex=P.noOfSteps}return null},manageNavigationSkip:function(e,t){var i,n,a,r,o;if(!0!==P.isFallbackMode&&(P.ui.show(t,0),!0===P.options.navigationSkip)){if(P.navigationSkipThresholdActive=!0,0!==P.phasesAnimating&&(clearTimeout(P.phaseThresholdTimer),clearTimeout(P.nextPhaseStartedTimer),!0===P.options.fadeStepWhenSkipped))for(i=1;i<=P.noOfSteps;i++)!0===(n=P.stepProperties[i]).isActive&&i!==e&&(a=P.$steps[i-1],r=i,(o={}).id=r,o.element=a,P.phasesSkipped.push(o),P.animation.stepSkipped(a));P.navigationSkipThresholdTimer=setTimeout(function(){P.navigationSkipThresholdActive=!1},P.options.navigationSkipThreshold)}},stepSkipped:function(e){P.ui.hide(e,P.options.fadeStepTime,function(){})},changeStep:function(e){var t="seq-step"+e;if(void 0!==P.currentStepId){var i="seq-step"+P.currentStepId;h(P.$container,t),u(P.$container,i)}else h(P.$container,t)},reverseProperties:function(e,t,i,n,a){var r,o,s,d,u,l,c,p=this,h=e.children,f=h.length,v=e.timings,m="",g="",y=[],k=[];for(o=0;o<f;o++)u=(s=w(T(r=h[o],S.prefixed("transitionDuration"))))+(d=w(T(r,S.prefixed("transitionDelay")))),d=v.maxTotal-u,!0!==n&&(d+=t),u=s+d,y.push(u),null!==r.getAttribute("data-seq")&&k.push(u),!0===a.reverseTimingFunctionWhenNavigatingBackwards&&(m=T(r,S.prefixed("transitionTimingFunction")),g=p.reverseTimingFunction(m)),r.style[S.prefixed("transition")]=s+"ms "+d+"ms "+g;return l=Math.max.apply(Math,y),c=Math.max.apply(Math,k),setTimeout(function(){p.domDelay(function(){for(o=0;o<f;o++)(r=h[o]).style[S.prefixed("transition")]=""})},l+i),c},forward:function(e,t,i,n,a){var r,o,s,d=this;!1===P.firstRun&&d.currentPhaseStarted(P.currentStepId),u(i,"seq-out"),d.domDelay(function(){r=d.startAnimateOut(P.currentStepId,t,1),o=r.watchedTimings.maxTotal,s=d.getPhaseThreshold(n,P.options.phaseThreshold,P.isAnimating,o),P.isAnimating=!0,d.startAnimateIn(e,o,i,s,a)})},reverse:function(e,t,i,n,a){var r,o,s,d,u,l=this,c=0;h(i,"seq-out"),l.domDelay(function(){o=l.getPhaseProperties(P.currentStepId,"current"),s=l.getPhaseProperties(e,"next"),c=l.getPhaseThreshold(n,P.options.phaseThreshold,P.isAnimating,o.timings.maxTotal),r=l.getReversePhaseDelay(o.timings.maxTotal,s.timings.maxTotal,P.options.phaseThreshold,P.options.ignorePhaseThresholdWhenSkipped,P.isAnimating),d=l.reverseProperties(o,r.current,0,n,P.options),u=l.reverseProperties(s,r.next,c,n,P.options),l.startAnimateOut(P.currentStepId,t,-1,d),!(P.isAnimating=!0)===P.firstRun&&l.currentPhaseStarted(P.currentStepId),l.startAnimateIn(e,d,i,c,a,u)})},startAnimateIn:function(e,t,i,n,a,r){var o,s,d=this;P.prevStepId=P.currentStepId,P.currentStepId=e,!0===P.firstRun&&P.pagination.update(),!1===P.firstRun||!0===P.options.startingStepAnimatesIn?(P.stepProperties[e].isActive=!0,P.nextPhaseStartedTimer=setTimeout(function(){d.nextPhaseStarted(e,a)},n),P.phaseThresholdTimer=setTimeout(function(){h(i,"seq-in"),u(i,"seq-out"),void 0===r&&(o=P.animation.getPhaseProperties(e,"next"),r=o.watchedTimings.maxTotal),d.phaseEnded(e,"next",r,d.nextPhaseEnded),s=d.getStepDuration(t,r,P.options.phaseThreshold),P.stepEndedTimer=setTimeout(function(){P.animation.stepEnded(e)},s)},n)):(d.resetInheritedSpeed(e),P.phasesAnimating=0,!(P.isAnimating=!1)===P.options.autoPlay&&P.autoPlay.start(!0),h(i,"seq-in"),u(i,"seq-out")),P.firstRun=!1},startAnimateOut:function(e,t,i,n){var a,r=this;return 1===i?(u(t,"seq-in"),h(t,"seq-out"),n=(a=r.getPhaseProperties(e,"current")).watchedTimings.maxTotal):u(t,"seq-in"),!1===P.firstRun&&(P.stepProperties[e].isActive=!0,r.phaseEnded(e,"current",n,r.currentPhaseEnded)),a},getStepDuration:function(e,t,i){var n;switch(i){case!0:n=t;break;case!1:n=t<=e?e:t;break;default:n=t+i<=e?e-i:t}return n},currentPhaseStarted:function(e){P.phasesAnimating++,P.currentPhaseStarted(e,P)},currentPhaseEnded:function(e){P.currentPhaseEnded(e,P)},nextPhaseStarted:function(e,t){P.phasesAnimating++,void 0===t&&P.hashTags.update(),P.pagination.update(),P.nextPhaseStarted(e,P)},nextPhaseEnded:function(e){P.nextPhaseEnded(e,P)},phaseEnded:function(e,t,i,n){var a;a=function(e){P.stepProperties[e].isActive=!1,P.phasesAnimating--,n(e)},"current"===t?P.currentPhaseEndedTimer=setTimeout(function(){a(e)},i):P.nextPhaseEndedTimer=setTimeout(function(){a(e)},i)},stepEnded:function(e){P.isAnimating=!1,!(P.isAutoPlaying=!1)===P.options.autoPlay&&P.autoPlay.start(!0,!0),P.animationEnded(e,P)},reversePhase:function(e){var t;return{"seq-out":"seq-in","seq-in":"seq-out"}[e]},domDelay:function(e){setTimeout(function(){e()},50)},reverseTimingFunction:function(e){if(""===e||void 0===e)return e;var t,i,n,a,r={linear:"cubic-bezier(0.0,0.0,1.0,1.0)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1.0)","ease-in":"cubic-bezier(0.42, 0.0, 1.0, 1.0)","ease-in-out":"cubic-bezier(0.42, 0.0, 0.58, 1.0)","ease-out":"cubic-bezier(0.0, 0.0, 0.58, 1.0)"};for(e.indexOf("cubic-bezier")<0&&(e=r[e=e.split(",")[0]]),i=(t=e.replace("cubic-bezier(","").replace(")","").split(",")).length,a=0;a<i;a++)t[a]=parseFloat(t[a]);return e="cubic-bezier("+(n=[1-t[2],1-t[3],1-t[0],1-t[1]])+")"},resetInheritedSpeed:function(e){if(!0!==P.isFallbackMode){var t,i,n=P.$steps[e-1].querySelectorAll("*"),a=n.length;for(i=0;i<a;i++)(t=n[i]).style[S.prefixed("transition")]="0ms 0ms";P.animation.domDelay(function(){for(i=0;i<a;i++)(t=n[i]).style[S.prefixed("transition")]=""})}},getDirection:function(e,t,i,n,a,r,o){var s=1;return s=void 0!==t?t:!0===r||!0===a?!0===o&&1===e&&i===n?1:e<i?-1:1:1},requiresFallbackMode:function(e){var t,i=!1;return!1===e.transitions&&(i=!0),i},getPropertySupport:function(e){var t=!1,i=!1;return!0===S.csstransitions&&(t=!0),!0===S.cssanimations&&(i=!0),{transitions:t,animations:i}}},P.animationFallback={animate:function(t,i,n,a,r,o,s){if(!1!==t){var d=(new Date).getTime(),u=setInterval(function(){var e=Math.min(1,((new Date).getTime()-d)/o);t.style[i]=a+e*(r-a)+n,1===e&&(void 0!==s&&s(),clearInterval(u))},25);t.style[i]=a+n}},setupCanvas:function(e){var t,i,n;if(!0===P.isFallbackMode)for(h(P.$container,"seq-fallback"),void 0!==P.$screen&&(P.$screen.style.overflow="hidden",P.$screen.style.width="100%",P.$screen.style.height="100%"),P.$canvas.style.width="100%",P.$canvas.style.height="100%",this.canvasWidth=P.$canvas.offsetWidth,t=0;t<P.noOfSteps;t++)n=t+1,h(i=P.$steps[t],"seq-in"),i.style.width="100%",i.style.height="100%",i.style.position="absolute",i.style.whiteSpace="normal",i.style.left="100%"},moveCanvas:function(e,t,i,n){if(!0===n){var a=0,r=-100,o=100,s=0;-1===i&&(o=-(r=100)),this.animate(t,"left","%",0,r,P.options.fallback.speed),this.animate(e,"left","%",o,0,P.options.fallback.speed)}else t.style.left="-100%",e.style.left="0"},goTo:function(e,t,i,n,a,r,o){P.prevStepId=P.currentStepId,P.currentStepId=e,void 0===o&&P.hashTags.update(),P.pagination.update(),!1===P.firstRun?(this.moveCanvas(a,i,r,!0),P.isAnimating=!0,P.animationStarted(P.currentStepId,P),P.stepEndedTimer=setTimeout(function(){P.animation.stepEnded(P.currentStepId)},P.options.fallback.speed)):(this.moveCanvas(a,i,r,!1),!(P.firstRun=!1)===P.options.autoPlay&&P.autoPlay.start(!0))}},P.pagination={getLinks:function(e,t){var i,n,a=e.childNodes,r=a.length,o=[];for(n=0;n<r;n++)1===(i=a[n]).nodeType&&o.push(i);return o},update:function(){if(void 0!==P.$pagination.elements){var e,t,i,n,a=P.currentStepId-1,r=P.$pagination.elements.length;if(void 0!==P.$pagination.currentLinks)for(n=P.$pagination.currentLinks.length,e=0;e<n;e++)u(i=P.$pagination.currentLinks[e],"seq-current");for(P.$pagination.currentLinks=[],t=0;t<r;t++)i=P.$pagination.links[t][a],P.$pagination.currentLinks.push(i),h(i,"seq-current")}return P.$pagination.currentLinks}},P.hashTags={init:function(e){var t,i;!0===P.options.hashTags&&(P.hasPushstate=!(!window.history||!history.pushState),i=location.hash.replace("#!",""),P.stepHashTags=this.getStepHashTags(),""!==i&&(P.currentHashTag=i,-1<(t=this.hasCorrespondingStep(P.currentHashTag))&&(e=t+1)));return e},hasCorrespondingStep:function(e){var t=-1,i=P.stepHashTags.indexOf(e);return-1<i&&(t=i),t},getStepHashTags:function(){var e,t,i=[];for(e=0;e<P.noOfSteps;e++)t=!1===P.options.hashDataAttribute?P.$steps[e].id:P.$steps[e].getAttribute("data-seq-hashtag"),i.push(t);return i},update:function(){if(!0===P.options.hashTags&&!1===P.firstRun||!0===P.options.hashTags&&!0===P.firstRun&&!0===P.options.hashChangesOnFirstStep){var e=P.currentStepId-1;P.currentHashTag=P.stepHashTags[e],""!==P.currentHashtag&&(!0===P.hasPushstate?history.pushState(null,null,"#!"+P.currentHashTag):location.hash="#!"+P.currentHashTag)}},setupEvent:function(){if("onhashchange"in window){if(window.addEventListener)return window.addHashChange=function(e,t){window.addEventListener("hashchange",e,t)},void(window.removeHashChange=function(e){window.removeEventListener("hashchange",e)});if(window.attachEvent)return window.addHashChange=function(e){window.attachEvent("onhashchange",e)},void(window.removeHashChange=function(e){window.detachEvent("onhashchange",e)})}var n=[],a=location.href;window.addHashChange=function(e,t){"function"==typeof e&&n[t?"unshift":"push"](e)},window.removeHashChange=function(e){for(var t=n.length-1;0<=t;t--)n[t]===e&&n.splice(t,1)},setInterval(function(){var e=location.href;if(a!==e){var t=a;a=e;for(var i=0;i<n.length;i++)n[i].call(window,{type:"hashchange",newURL:e,oldURL:t})}},100)}},P.preload={defaultHtml:'<svg width="39" height="16" viewBox="0 0 39 16" xmlns="http://www.w3.org/2000/svg" class="seq-preload-indicator"><title>Sequence.js Preloading Indicator</title><desc>Three orange dots increasing in size from left to right</desc><g fill="#F96D38"><path class="seq-preload-circle seq-preload-circle-1" d="M3.999 12.012c2.209 0 3.999-1.791 3.999-3.999s-1.79-3.999-3.999-3.999-3.999 1.791-3.999 3.999 1.79 3.999 3.999 3.999z"/><path class="seq-preload-circle seq-preload-circle-2" d="M15.996 13.468c3.018 0 5.465-2.447 5.465-5.466 0-3.018-2.447-5.465-5.465-5.465-3.019 0-5.466 2.447-5.466 5.465 0 3.019 2.447 5.466 5.466 5.466z"/><path class="seq-preload-circle seq-preload-circle-3" d="M31.322 15.334c4.049 0 7.332-3.282 7.332-7.332 0-4.049-3.282-7.332-7.332-7.332s-7.332 3.283-7.332 7.332c0 4.05 3.283 7.332 7.332 7.332z"/></g></svg>',fallbackHtml:'<div class="seq-preload-indicator seq-preload-indicator-fallback"><div class="seq-preload-circle seq-preload-circle-1"></div><div class="seq-preload-circle seq-preload-circle-2"></div><div class="seq-preload-circle seq-preload-circle-3"></div></div>',defaultStyles:"@"+g[S.prefixed("animation")]+"keyframes seq-preloader {50% {opacity: 1;}100% {opacity: 0;}}.seq-preloader {background: white;visibility: visible;opacity: 1;position: absolute;z-index: 9999;height: 100%;width: 100%;top: 0;left: 0;right: 0;bottom: 0;} .seq-preloader.seq-preloaded {opacity: 0;visibility: hidden;"+S.prefixed("transition")+": visibility 0s .5s, opacity .5s;}.seq-preload-indicator {overflow: visible;position: relative;top: 50%;left: 50%;-webkit-transform: translate(-50%, -50%);transform: translate(-50%, -50%);}.seq-preload-circle {display: inline-block;height: 12px;width: 12px;fill: #F96D38;opacity: 0;"+g[S.prefixed("animation")]+"animation: seq-preloader 1.25s infinite;}.seq-preload-circle-2 {"+g[S.prefixed("animation")]+"animation-delay: .15s;}.seq-preload-circle-3 {"+g[S.prefixed("animation")]+"animation-delay: .3s;}.seq-preload-indicator-fallback{width: 42px;margin-left: -21px;overflow: visible;}.seq-preload-indicator-fallback .seq-preload-circle {width: 8px; height:8px;background-color: #F96D38;border-radius: 100%; opacity: 1;display: inline-block; vertical-align: middle;}.seq-preload-indicator-fallback .seq-preload-circle-2{margin-left: 3px; margin-right: 3px; width: 12px; height: 12px;}.seq-preload-indicator-fallback .seq-preload-circle-3{width: 16px; height: 16px;}",init:function(t){if(!1===P.options.preloader)return!1;var e,i,n,a,r,o,s=this;return h(P.$container,"seq-preloading"),P.$preloader=P.ui.getElements("preloader",P.options.preloader),s.append(),s.addStyles(),s.toggleStepsVisibility("hide"),e=s.getImagesToPreload(P.options.preloadTheseSteps),i=s.getImagesToPreload(P.options.preloadTheseImages,!0),n=e.concat(i),(a=b(n)).on("always",function(e){s.complete(t)}),r=1,a.on("progress",function(e,t){o=t.isLoaded?"loaded":"broken",P.preloadProgress(o,t.img.src,r++,n.length,P)}),!0},complete:function(e){P.preloaded(P),!0!==P.options.pausePreloader&&(this.toggleStepsVisibility("show"),u(P.$container,"seq-preloading"),h(P.$container,"seq-preloaded"),h(P.$preloader[0],"seq-preloaded"),void 0!==this.preloadIndicatorTimer&&clearInterval(this.preloadIndicatorTimer),(!1===S.prefixed("animation")||!1===S.svg)&&(P.$preloader[0].style.display="none"),void 0!==e&&e())},addStyles:function(){if(!0!==P.options.preloader)return!1;var e=document.head||document.getElementsByTagName("head")[0];if(this.styleElement=document.createElement("style"),this.styleElement.type="text/css",this.styleElement.styleSheet?this.styleElement.styleSheet.cssText=this.defaultStyles:this.styleElement.appendChild(document.createTextNode(this.defaultStyles)),e.appendChild(this.styleElement),!1===S.prefixed("animation")||!1===S.svg){var t=P.$preloader[0].firstChild,i=function(){t.style.visibility="hidden",preloadFlashTime=1e3,setTimeout(function(){t.style.visibility="visible"},500)};i(),this.preloadIndicatorTimer=setInterval(function(){i()},1e3)}return!0},removeStyles:function(){this.styleElement.parentNode.removeChild(this.styleElement)},getImagesToPreload:function(e,t){var i=[];if(!0===p(e)){var n,a,r,o,s,d,u,l,c=e.length;if(!0!==t)for(n=0;n<c;n++)for(s=(o=(r=P.$steps[n]).getElementsByTagName("img")).length,a=0;a<s;a++)d=o[a],i.push(d);else for(u=[],n=0;n<c;n++)l=e[n],u[n]=new Image,u[n].src=l,i.push(u[n])}return i},append:function(){return!0===P.options.preloader&&(P.$preloader=document.createElement("div"),P.$preloader.className="seq-preloader",!(P.$preloader=[P.$preloader])!==S.prefixed("animation")&&!0===S.svg?P.$preloader[0].innerHTML=P.preload.defaultHtml:P.$preloader[0].innerHTML=P.preload.fallbackHtml,P.$container.insertBefore(P.$preloader[0],null),!0)},toggleStepsVisibility:function(e){if(!0!==P.options.hideStepsUntilPreloaded)return!1;var t,i;for(t=0;t<P.noOfSteps;t++)i=P.$steps[t],"hide"===e?P.ui.hide(i,0):P.ui.show(i,0);return!0}},P.manageEvents={list:{load:[],click:[],touchstart:[],mousemove:[],mouseleave:[],hammer:[],keyup:[],hashchange:[],resize:[]},init:function(){return P.manageEvents.list[k]=[],!0===P.options.hashTags&&this.add.hashChange(),!0===P.options.swipeNavigation?this.add.swipeNavigation():P.hammerTime=!1,!0===P.options.keyNavigation&&this.add.keyNavigation(),this.add.resizeThrottle(),this.add.pageVisibility(),!1!==P.options.nextButton&&(P.$next=P.ui.getElements("nextButton",P.options.nextButton),this.add.button(P.$next,"nav",P.next)),!1!==P.options.prevButton&&(P.$prev=P.ui.getElements("prevButton",P.options.prevButton),this.add.button(P.$prev,"nav",P.prev)),!1!==P.options.autoPlayButton&&(P.$autoPlay=P.ui.getElements("autoPlayButton",P.options.autoPlayButton),this.add.button(P.$autoPlay,"nav",P.toggleAutoPlay)),this.add.stopOnHover(),!1!==P.options.pagination&&(P.$pagination={},P.$pagination.relatedElementId=I,P.$pagination.links=[],P.$pagination.elements=P.ui.getElements("pagination",P.options.pagination),this.add.button(P.$pagination.elements,"pagination")),null},removeAll:function(e){var t,i;for(t in e)!0===e.hasOwnProperty(t)&&(i=e[t],this.remove(t));return null},remove:function(e){var t=P.manageEvents.list[e],i=t.length;switch(e){case"hashchange":!0===P.options.hashTags&&removeHashChange(t[0].handler);break;case"hammer":if(0<P.manageEvents.list.hammer.length&&void 0!==document.querySelectorAll){var n=P.manageEvents.list.hammer[0].handler;P.hammerTime.off("swipe",[n])}break;default:for(var a=0;a<i;a++){var r=t[a];s(r.element,e,r.handler)}}},add:{hashChange:function(){P.hashTags.setupEvent();var e=function(e){var t,i;t=(t=e.newURL||location.href).split("#!")[1],P.currentHashTag!==t&&(i=P.stepHashTags.indexOf(t)+1,P.currentHashTag=t,P.goTo(i,void 0,void 0,!0))};return addHashChange(e),P.manageEvents.list.hashchange.push({element:window,handler:e}),P.manageEvents.list.hashchange},button:function(e,t,i){var n,a,r,o,s,d,u,l=e.length;switch(t){case"nav":r=function(e){n=c(e,"click",function(e){e||(e=window.event),e.preventDefault?e.preventDefault():e.returnValue=!1,i()})};break;case"pagination":r=function(e,t){n=c(e,"click",function(e,t){e||(e=window.event),e.preventDefault?e.preventDefault():e.returnValue=!1;var i=e.target||e.srcElement;d=f(o=this,i),P.goTo(d)}),P.$pagination.links.push(P.pagination.getLinks(e,t))}}for(u=0;u<l;u++)(s=(a=e[u]).getAttribute("rel"))===P.$container.id&&null===a.getAttribute("data-seq-button")?(a.setAttribute("data-seq-button",!0),r(a,s)):null===s&&null===a.getAttribute("data-seq-button")&&r(a,s),P.manageEvents.list.click.push({element:a,handler:n});return P.manageEvents.list.click},stopOnHover:function(){var e,t;return P.isMouseOver=!1,e=c(P.$container,"touchstart",function(e){P.isTouched=!0}),P.manageEvents.list.touchstart.push({element:P.$container,handler:e}),t=c(P.$container,"mousemove",function(e){return e=e||window.event,!0===P.isTouched?void(P.isTouched=!1):void(!0===i(P.$container,e)?(!0===P.options.autoPlayPauseOnHover&&!1===P.isMouseOver&&P.autoPlay.pause(),P.isMouseOver=!0):(!0===P.options.autoPlayPauseOnHover&&!0===P.isMouseOver&&P.autoPlay.unpause(),P.isMouseOver=!1))}),P.manageEvents.list.mousemove.push({element:P.$container,handler:t}),t=c(P.$container,"mouseleave",function(e){!0===P.options.autoPlayPauseOnHover&&P.autoPlay.unpause(),P.isMouseOver=!1}),P.manageEvents.list.mouseleave.push({element:P.$container,handler:t}),null},swipeNavigation:function(){var e,t;void 0!==window.addEventListener?"function"==typeof E&&(t=function(e){switch(e.direction){case 2:P.options.swipeEvents.left(P);break;case 4:P.options.swipeEvents.right(P);break;case 8:P.options.swipeEvents.up(P);break;case 16:P.options.swipeEvents.down(P)}},P.hammerTime=new E(P.$container).on("swipe",t),P.hammerTime.get("swipe").set(P.options.swipeHammerOptions),e=a(P.options.swipeEvents),P.hammerTime.get("swipe").set({direction:e}),P.manageEvents.list.hammer.push({element:P.$container,handler:t})):P.hammerTime=!1},keyNavigation:function(){var e=c(document,"keyup",function(e){e||(e=window.event);var t=parseInt(String.fromCharCode(e.keyCode));switch(0<t&&t<=P.noOfSteps&&P.options.numericKeysGoToSteps&&P.goTo(t),e.keyCode){case 37:P.options.keyEvents.left(P);break;case 39:P.options.keyEvents.right(P)}});P.manageEvents.list.keyup.push({element:document,handler:e})},resizeThrottle:function(){function t(){setTimeout(function(){P.canvas.getTransformProperties(),!0===P.propertySupport.transitions&&P.canvas.move(P.currentStepId,!1)},500),P.throttledResize(P)}var i,e;e=c(window,"resize",function(e){clearTimeout(i),i=setTimeout(t,m)}),P.manageEvents.list.resize.push({element:window,handler:e})},pageVisibility:function(){var e=c(document,k,function(){document[y]?P.autoPlay.pause():P.autoPlay.unpause()},!1);P.manageEvents.list[k].push({element:document,handler:e})}}},P.init=function(e){var t,i,n,a;P.options=o(v,r),P.isAnimating=!1,P.isReady=!1,P.$container=e,P.$screen=P.$container.querySelectorAll(".seq-screen")[0],P.$canvas=P.$container.querySelectorAll(".seq-canvas")[0],P.$steps=P.canvas.getSteps(P.$canvas),P.noOfSteps=P.$steps.length,P.phasesAnimating=0,P.phasesSkipped=[],l(P.$container,S),t=P.options.startingStepId,h(P.$container,"seq-active"),P.propertySupport=P.animation.getPropertySupport(),P.isFallbackMode=P.animation.requiresFallbackMode(P.propertySupport),P.canvas.init(t),P.canvas.removeNoJsClass(P),P.manageEvents.init(),P.autoPlay.init(),P.firstRun=!0,t=P.hashTags.init(t),1===P.options.autoPlayDirection?(n=t-1,P.prevStepId=n<1?P.noOfSteps:n):(n=t+1,P.prevStepId=n>P.noOfSteps?1:n),P.currentStepId=P.prevStepId,i=P.prevStepId,P.animationFallback.setupCanvas(t),!(a=function(){P.animation.domDelay(function(){P.animation.domDelay(function(){P.animation.resetInheritedSpeed(i)}),P.isReady=!0,P.ready(P),P.goTo(t,P.options.autoPlayDirection,!0)})})!==P.options.preloader&&void 0!==document.querySelectorAll&&"function"==typeof b?P.preload.init(function(){a()}):a()},P.destroy=function(){var e,t,i;for(P.autoPlay.stop(),clearTimeout(P.autoPlayTimer),clearTimeout(P.phaseThresholdTimer),clearTimeout(P.stepEndedTimer),clearTimeout(P.currentPhaseEndedTimer),clearTimeout(P.nextPhaseStartedTimer),clearTimeout(P.nextPhaseEndedTimer),clearTimeout(P.fadeStepTimer),clearTimeout(P.hideTimer),clearTimeout(P.navigationSkipThresholdTimer),P.manageEvents.removeAll(P.manageEvents.list),u(P.$pagination.currentLinks,"seq-current"),u(P.$container,"seq-step"+P.currentStepId),u(P.$container,"seq-active"),P.$container.removeAttribute("style"),void 0!==P.$screen&&P.$screen.removeAttribute("style"),P.$canvas.removeAttribute("style"),e=0;e<P.noOfSteps;e++)(t=P.$steps[e]).removeAttribute("style"),P.animation.resetInheritedSpeed(e+1),u(t,"seq-in"),u(t,"seq-out");return i=P.$steps[P.options.startingStepId-1],P.animation.resetInheritedSpeed(P.options.startingStepId),h(i,"seq-in"),n.removeAttribute("data-seq-enabled"),P.destroyed(P),P=null},P.next=function(){var e=P.currentStepId+1;return!(e>P.noOfSteps&&!1===P.options.cycle)&&(e>P.noOfSteps&&(e=1),P.goTo(e),e)},P.prev=function(){var e,t=P.currentStepId-1;return!(t<1&&!1===P.options.cycle)&&(t<1&&(t=P.noOfSteps),!0===P.options.reverseWhenNavigatingBackwards&&(e=-1),P.goTo(t,e),t)},P.toggleAutoPlay=function(e){return!1===P.isAutoPlaying?P.start(e):P.stop(),
P.isAutoPlaying},P.stop=function(){P.autoPlay.stop()},P.start=function(e){P.autoPlay.start(e)},P.goTo=function(e,t,i,n){return t=P.animation.getDirection(e,t,P.currentStepId,P.noOfSteps,P.isFallbackMode,P.options.reverseWhenNavigatingBackwards,P.options.cycle),!(void 0===e||e<1||e>P.noOfSteps||e===P.currentStepId||!1===P.options.navigationSkip&&!0===P.isAnimating||!0===P.options.navigationSkip&&!0===P.navigationSkipThresholdActive&&void 0===n||!0===P.isFallbackMode&&!0===P.isAnimating&&void 0===n||!0===P.options.preventReverseSkipping&&P.direction!==t&&!0===P.isAnimating)&&(clearTimeout(P.autoPlayTimer),1===(P.direction=t)?u(P.$container,"seq-reversed"):h(P.$container,"seq-reversed"),a=P.$steps[P.currentStepId-1],r=P.$steps[e-1],P.animation.moveActiveStepToTop(a,r),P.animation.changeStep(e),!1===P.isFallbackMode?(P.animation.resetInheritedSpeed(e),(!1===P.firstRun||!0===P.firstRun&&!0===P.options.startingStepAnimatesIn)&&P.animationStarted(e,P),P.canvas.move(e,!0),P.animation.manageNavigationSkip(e,r),1===t?P.animation.forward(e,a,r,i,n):P.animation.reverse(e,a,r,i,n)):P.animationFallback.goTo(e,P.currentStepId,a,e,r,t,n),!0);var a,r},P.started=function(e){},P.stopped=function(e){},P.animationStarted=function(e,t){},P.animationEnded=function(e,t){},P.currentPhaseStarted=function(e,t){},P.currentPhaseEnded=function(e,t){},P.nextPhaseStarted=function(e,t){},P.nextPhaseEnded=function(e,t){},P.throttledResize=function(e){},P.preloaded=function(e){},P.preloadProgress=function(e,t,i,n,a){},P.ready=function(e){},P.destroyed=function(e){},P.utils={addClass:h,removeClass:u,addEvent:c,removeEvent:s},P.init(n),x.push(P),P}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}
/*
 * YoutubeBackground - A wrapper for the Youtube API - Great for fullscreen background videos or just regular videos.
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 *
 * Version:  1.0.5
 *
 */
// Chain of Responsibility pattern. Creates base class that can be overridden.
if(function(){function e(){}function r(e,t){for(var i=e.length;i--;)if(e[i].listener===t)return i;return-1}function t(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,n=this,a=n.EventEmitter;i.getListeners=function(e){var t,i,n=this._getEvents();if("object"==typeof e)for(i in t={},n)n.hasOwnProperty(i)&&e.test(i)&&(t[i]=n[i]);else t=n[e]||(n[e]=[]);return t},i.flattenListeners=function(e){var t,i=[];for(t=0;e.length>t;t+=1)i.push(e[t].listener);return i},i.getListenersAsObject=function(e){var t,i=this.getListeners(e);return i instanceof Array&&((t={})[e]=i),t||i},i.addListener=function(e,t){var i,n=this.getListenersAsObject(e),a="object"==typeof t;for(i in n)n.hasOwnProperty(i)&&-1===r(n[i],t)&&n[i].push(a?t:{listener:t,once:!1});return this},i.on=t("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=t("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,t){var i,n,a=this.getListenersAsObject(e);for(n in a)a.hasOwnProperty(n)&&(-1!==(i=r(a[n],t))&&a[n].splice(i,1));return this},i.off=t("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,i){var n,a,r=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(n=i.length;n--;)r.call(this,t,i[n]);else for(n in t)t.hasOwnProperty(n)&&(a=t[n])&&("function"==typeof a?r.call(this,n,a):o.call(this,n,a));return this},i.removeEvent=function(e){var t,i=typeof e,n=this._getEvents();if("string"===i)delete n[e];else if("object"===i)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},i.removeAllListeners=t("removeEvent"),i.emitEvent=function(e,t){var i,n,a,r,o=this.getListenersAsObject(e);for(a in o)if(o.hasOwnProperty(a))for(n=o[a].length;n--;)!0===(i=o[a][n]).once&&this.removeListener(e,i.listener),(r=i.listener.apply(this,t||[]))===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},i.trigger=t("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return n.EventEmitter=a,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(i){function n(e){var t=i.event;return t.target=t.target||t.srcElement||e,t}var e=document.documentElement,t=function(){};e.addEventListener?t=function(e,t,i){e.addEventListener(t,i,!1)}:e.attachEvent&&(t=function(t,e,i){t[e+i]=i.handleEvent?function(){var e=n(t);i.handleEvent.call(i,e)}:function(){var e=n(t);i.call(t,e)},t.attachEvent("on"+e,t[e+i])});var a=function(){};e.removeEventListener?a=function(e,t,i){e.removeEventListener(t,i,!1)}:e.detachEvent&&(a=function(t,i,n){t.detachEvent("on"+i,t[i+n]);try{delete t[i+n]}catch(e){t[i+n]=void 0}});var r={bind:t,unbind:a};"function"==typeof define&&define.amd?define("eventie/eventie",r):i.eventie=r}(this),function(i,n){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(e,t){return n(i,e,t)}):"object"==typeof exports?module.exports=n(i,require("eventEmitter"),require("eventie")):i.imagesLoaded=n(i,i.EventEmitter,i.eventie)}(this,function(e,t,i){function a(e,t){for(var i in t)e[i]=t[i];return e}function r(e){return"[object Array]"===p.call(e)}function o(e){var t=[];if(r(e))t=e;else if("number"==typeof e.length)for(var i=0,n=e.length;i<n;i++)t.push(e[i]);else t.push(e);return t}function s(e,t,i){if(!(this instanceof s))return new s(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=o(e),this.options=a({},this.options),"function"==typeof t?i=t:a(this.options,t),i&&this.on("always",i),this.getImages(),u&&(this.jqDeferred=new u.Deferred);var n=this;setTimeout(function(){n.check()})}function n(e){this.img=e}function d(e){this.src=e,h[e]=this}var u=e.jQuery,l=e.console,c=void 0!==l,p=Object.prototype.toString;s.prototype=new t,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;e<t;e++){var i=this.elements[e];if("IMG"===i.nodeName&&this.addImage(i),i.nodeType&&(1===i.nodeType||9===i.nodeType))for(var n=i.querySelectorAll("img"),a=0,r=n.length;a<r;a++){var o=n[a];this.addImage(o)}}},s.prototype.addImage=function(e){var t=new n(e);this.images.push(t)},s.prototype.check=function(){function e(e,t){return i.options.debug&&c&&l.log("confirm",e,t),i.progress(e),++n===a&&i.complete(),!0}var i=this,n=0,a=this.images.length;if(this.hasAnyBroken=!1,a)for(var t=0;t<a;t++){var r=this.images[t];r.on("confirm",e),r.check()}else this.complete()},s.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},s.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var i=this;setTimeout(function(){if(i.emit(t,i),i.emit("always",i),i.jqDeferred){var e=i.hasAnyBroken?"reject":"resolve";i.jqDeferred[e](i)}})},u&&(u.fn.imagesLoaded=function(e,t){var i;return new s(this,e,t).jqDeferred.promise(u(this))}),n.prototype=new t,n.prototype.check=function(){var e=h[this.img.src]||new d(this.img.src);if(e.isConfirmed)this.confirm(e.isLoaded,"cached was confirmed");else if(this.img.complete&&void 0!==this.img.naturalWidth)this.confirm(0!==this.img.naturalWidth,"naturalWidth");else{var i=this;e.on("confirm",function(e,t){return i.confirm(e.isLoaded,t),!0}),e.check()}},n.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var h={};return d.prototype=new t,d.prototype.check=function(){if(!this.isChecked){var e=new Image;i.bind(e,"load",this),i.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},d.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},d.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},d.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},d.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},d.prototype.unbindProxyEvents=function(e){i.unbind(e.target,"load",this),i.unbind(e.target,"error",this)},s}),function(e,n,t,c){"use strict";function d(e,t,i){return setTimeout(u(e,i),t)}function i(e,t,i){return!!Array.isArray(e)&&(a(e,i[t],i),!0)}function a(e,t,i){var n;if(e)if(e.forEach)e.forEach(t,i);else if(e.length!==c)for(n=0;n<e.length;)t.call(i,e[n],n,e),n++;else for(n in e)e.hasOwnProperty(n)&&t.call(i,e[n],n,e)}function r(e,t,i){for(var n=Object.keys(t),a=0;a<n.length;)(!i||i&&e[n[a]]===c)&&(e[n[a]]=t[n[a]]),a++;return e}function o(e,t){return r(e,t,!0)}function s(e,t,i){var n,a=t.prototype;(n=e.prototype=Object.create(a)).constructor=e,n._super=a,i&&r(n,i)}function u(e,t){return function(){return e.apply(t,arguments)}}function l(e,t){return typeof e==le?e.apply(t&&t[0]||c,t):e}function p(e,t){return e===c?t:e}function h(t,e,i){a(g(e),function(e){t.addEventListener(e,i,!1)})}function f(t,e,i){a(g(e),function(e){t.removeEventListener(e,i,!1)})}function v(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function m(e,t){return-1<e.indexOf(t)}function g(e){return e.trim().split(/\s+/g)}function y(e,t,i){if(e.indexOf&&!i)return e.indexOf(t);for(var n=0;n<e.length;){if(i&&e[n][i]==t||!i&&e[n]===t)return n;n++}return-1}function k(e){return Array.prototype.slice.call(e,0)}function b(e,i,t){for(var n=[],a=[],r=0;r<e.length;){var o=i?e[r][i]:e[r];y(a,o)<0&&n.push(e[r]),a[r]=o,r++}return t&&(n=i?n.sort(function(e,t){return e[i]>t[i]}):n.sort()),n}function T(e,t){for(var i,n,a=t[0].toUpperCase()+t.slice(1),r=0;r<de.length;){if((n=(i=de[r])?i+a:t)in e)return n;r++}return c}function w(){return fe++}function S(e){var t=e.ownerDocument;return t.defaultView||t.parentWindow}function P(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){l(t.options.enable,[t])&&i.handler(e)},this.init()}function E(e){var t,i=e.options.inputClass;return new(t=i||(ge?N:ye?B:me?Y:M))(e,x)}function x(e,t,i){var n=i.pointers.length,a=i.changedPointers.length,r=t&Pe&&n-a==0,o=t&(xe|Ie)&&n-a==0;i.isFirst=!!r,i.isFinal=!!o,r&&(e.session={}),i.eventType=t,I(e,i),e.emit("hammer.input",i),e.recognize(i),e.session.prevInput=i}function I(e,t){var i=e.session,n=t.pointers,a=n.length;i.firstInput||(i.firstInput=$(t)),1<a&&!i.firstMultiple?i.firstMultiple=$(t):1===a&&(i.firstMultiple=!1);var r=i.firstInput,o=i.firstMultiple,s=o?o.center:r.center,d=t.center=C(n);t.timeStamp=he(),t.deltaTime=t.timeStamp-r.timeStamp,t.angle=L(s,d),t.distance=_(s,d),A(i,t),t.offsetDirection=D(t.deltaX,t.deltaY),t.scale=o?R(o.pointers,n):1,t.rotation=o?z(o.pointers,n):0,q(i,t);var u=e.element;v(t.srcEvent.target,u)&&(u=t.srcEvent.target),t.target=u}function A(e,t){var i=t.center,n=e.offsetDelta||{},a=e.prevDelta||{},r=e.prevInput||{};(t.eventType===Pe||r.eventType===xe)&&(a=e.prevDelta={x:r.deltaX||0,y:r.deltaY||0},n=e.offsetDelta={x:i.x,y:i.y}),t.deltaX=a.x+(i.x-n.x),t.deltaY=a.y+(i.y-n.y)}function q(e,t){var i,n,a,r,o=e.lastInterval||t,s=t.timeStamp-o.timeStamp;if(t.eventType!=Ie&&(Se<s||o.velocity===c)){var d=o.deltaX-t.deltaX,u=o.deltaY-t.deltaY,l=O(s,d,u);n=l.x,a=l.y,i=pe(l.x)>pe(l.y)?l.x:l.y,r=D(d,u),e.lastInterval=t}else i=o.velocity,n=o.velocityX,a=o.velocityY,r=o.direction;t.velocity=i,t.velocityX=n,t.velocityY=a,t.direction=r}function $(e){for(var t=[],i=0;i<e.pointers.length;)t[i]={clientX:ce(e.pointers[i].clientX),clientY:ce(e.pointers[i].clientY)},i++;return{timeStamp:he(),pointers:t,center:C(t),deltaX:e.deltaX,deltaY:e.deltaY}}function C(e){var t=e.length;if(1===t)return{x:ce(e[0].clientX),y:ce(e[0].clientY)};for(var i=0,n=0,a=0;a<t;)i+=e[a].clientX,n+=e[a].clientY,a++;return{x:ce(i/t),y:ce(n/t)}}function O(e,t,i){return{x:t/e||0,y:i/e||0}}function D(e,t){return e===t?Ae:pe(e)>=pe(t)?0<e?qe:$e:0<t?Ce:Oe}function _(e,t,i){i||(i=ze);var n=t[i[0]]-e[i[0]],a=t[i[1]]-e[i[1]];return Math.sqrt(n*n+a*a)}function L(e,t,i){i||(i=ze);var n=t[i[0]]-e[i[0]],a=t[i[1]]-e[i[1]];return 180*Math.atan2(a,n)/Math.PI}function z(e,t){return L(t[1],t[0],Re)-L(e[1],e[0],Re)}function R(e,t){return _(t[0],t[1],Re)/_(e[0],e[1],Re)}function M(){this.evEl=Ne,this.evWin=je,this.allow=!0,this.pressed=!1,P.apply(this,arguments)}function N(){this.evEl=Fe,this.evWin=Ye,P.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function j(){this.evTarget=Ve,this.evWin=Xe,this.started=!1,P.apply(this,arguments)}function H(e,t){var i=k(e.touches),n=k(e.changedTouches);return t&(xe|Ie)&&(i=b(i.concat(n),"identifier",!0)),[i,n]}function B(){this.evTarget=Ue,this.targetIds={},P.apply(this,arguments)}function F(e,t){var i=k(e.touches),n=this.targetIds;if(t&(2|Pe)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var a,r,o=k(e.changedTouches),s=[],d=this.target;if(r=i.filter(function(e){return v(e.target,d)}),t===Pe)for(a=0;a<r.length;)n[r[a].identifier]=!0,a++;for(a=0;a<o.length;)n[o[a].identifier]&&s.push(o[a]),t&(xe|Ie)&&delete n[o[a].identifier],a++;return s.length?[b(r.concat(s),"identifier",!0),s]:void 0}function Y(){P.apply(this,arguments);var e=u(this.handler,this);this.touch=new B(this.manager,e),this.mouse=new M(this.manager,e)}function W(e,t){this.manager=e,this.set(t)}function V(e){if(m(e,tt))return tt;var t=m(e,it),i=m(e,nt);return t&&i?it+" "+nt:t||i?t?it:nt:m(e,et)?et:Je}function X(e){this.id=w(),this.manager=null,this.options=o(e||{},this.defaults),this.options.enable=p(this.options.enable,!0),this.state=at,this.simultaneous={},this.requireFail=[]}function Q(e){return e&ut?"cancel":e&st?"end":e&ot?"move":e&rt?"start":""}function U(e){return e==Oe?"down":e==Ce?"up":e==qe?"left":e==$e?"right":""}function G(e,t){var i=t.manager;return i?i.get(e):e}function Z(){X.apply(this,arguments)}function K(){Z.apply(this,arguments),this.pX=null,this.pY=null}function J(){Z.apply(this,arguments)}function ee(){X.apply(this,arguments),this._timer=null,this._input=null}function te(){Z.apply(this,arguments)}function ie(){Z.apply(this,arguments)}function ne(){X.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ae(e,t){return(t=t||{}).recognizers=p(t.recognizers,ae.defaults.preset),new re(e,t)}function re(e,t){t=t||{},this.options=o(t,ae.defaults),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.element=e,this.input=E(this),this.touchAction=new W(this,this.options.touchAction),oe(this,!0),a(t.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function oe(e,i){var n=e.element;a(e.options.cssProps,function(e,t){n.style[T(n.style,t)]=i?e:""})}function se(e,t){var i=n.createEvent("Event");i.initEvent(e,!0,!0),(i.gesture=t).target.dispatchEvent(i)}var de=["","webkit","moz","MS","ms","o"],ue=n.createElement("div"),le="function",ce=Math.round,pe=Math.abs,he=Date.now,fe=1,ve=/mobile|tablet|ip(ad|hone|od)|android/i,me="ontouchstart"in e,ge=T(e,"PointerEvent")!==c,ye=me&&ve.test(navigator.userAgent),ke="touch",be="pen",Te="mouse",we="kinect",Se=25,Pe=1,Ee=2,xe=4,Ie=8,Ae=1,qe=2,$e=4,Ce=8,Oe=16,De=qe|$e,_e=Ce|Oe,Le=De|_e,ze=["x","y"],Re=["clientX","clientY"];P.prototype={handler:function(){},init:function(){this.evEl&&h(this.element,this.evEl,this.domHandler),this.evTarget&&h(this.target,this.evTarget,this.domHandler),this.evWin&&h(S(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(S(this.element),this.evWin,this.domHandler)}};var Me={mousedown:Pe,mousemove:2,mouseup:xe},Ne="mousedown",je="mousemove mouseup";s(M,P,{handler:function(e){var t=Me[e.type];t&Pe&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=xe),this.pressed&&this.allow&&(t&xe&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:Te,srcEvent:e}))}});var He={pointerdown:Pe,pointermove:2,pointerup:xe,pointercancel:Ie,pointerout:Ie},Be={2:ke,3:be,4:Te,5:we},Fe="pointerdown",Ye="pointermove pointerup pointercancel";e.MSPointerEvent&&(Fe="MSPointerDown",Ye="MSPointerMove MSPointerUp MSPointerCancel"),s(N,P,{handler:function(e){var t=this.store,i=!1,n=e.type.toLowerCase().replace("ms",""),a=He[n],r=Be[e.pointerType]||e.pointerType,o=r==ke,s=y(t,e.pointerId,"pointerId");a&Pe&&(0===e.button||o)?s<0&&(t.push(e),s=t.length-1):a&(xe|Ie)&&(i=!0),s<0||(t[s]=e,this.callback(this.manager,a,{pointers:t,changedPointers:[e],pointerType:r,srcEvent:e}),i&&t.splice(s,1))}});var We={touchstart:Pe,touchmove:2,touchend:xe,touchcancel:Ie},Ve="touchstart",Xe="touchstart touchmove touchend touchcancel";s(j,P,{handler:function(e){var t=We[e.type];if(t===Pe&&(this.started=!0),this.started){var i=H.call(this,e,t);t&(xe|Ie)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:ke,srcEvent:e})}}});var Qe={touchstart:Pe,touchmove:2,touchend:xe,touchcancel:Ie},Ue="touchstart touchmove touchend touchcancel";s(B,P,{handler:function(e){var t=Qe[e.type],i=F.call(this,e,t);i&&this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:ke,srcEvent:e})}}),s(Y,P,{handler:function(e,t,i){var n=i.pointerType==ke,a=i.pointerType==Te;if(n)this.mouse.allow=!1;else if(a&&!this.mouse.allow)return;t&(xe|Ie)&&(this.mouse.allow=!0),this.callback(e,t,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ge=T(ue.style,"touchAction"),Ze=Ge!==c,Ke="compute",Je="auto",et="manipulation",tt="none",it="pan-x",nt="pan-y";W.prototype={set:function(e){e==Ke&&(e=this.compute()),Ze&&(this.manager.element.style[Ge]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return a(this.manager.recognizers,function(e){l(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),V(t.join(" "))},preventDefaults:function(e){if(!Ze){var t=e.srcEvent,i=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var n=this.actions,a=m(n,tt),r=m(n,nt),o=m(n,it);return a||r&&i&De||o&&i&_e?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var at=1,rt=2,ot=4,st=8,dt=st,ut=16,lt=32;X.prototype={defaults:{},set:function(e){return r(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(i(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=G(e,this)).id]||(t[e.id]=e).recognizeWith(this),this},dropRecognizeWith:function(e){return i(e,"dropRecognizeWith",this)||(e=G(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(i(e,"requireFailure",this))return this;var t=this.requireFail;return-1===y(t,e=G(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(i(e,"dropRequireFailure",this))return this;e=G(e,this);var t=y(this.requireFail,e);return-1<t&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(t){function e(e){i.manager.emit(i.options.event+(e?Q(n):""),t)}var i=this,n=this.state;n<st&&e(!0),e(),st<=n&&e(!0)},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=32)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|at)))return!1;e++}return!0},recognize:function(e){var t=r({},e);return l(this.options.enable,[this,t])?(this.state&(dt|ut|32)&&(this.state=at),this.state=this.process(t),void(this.state&(rt|ot|st|ut)&&this.tryEmit(t))):(this.reset(),void(this.state=32))},process:function(){},getTouchAction:function(){},reset:function(){}},s(Z,X,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,i=e.eventType,n=t&(rt|ot),a=this.attrTest(e);return n&&(i&Ie||!a)?t|ut:n||a?i&xe?t|st:t&rt?t|ot:rt:32}}),s(K,Z,{defaults:{event:"pan",threshold:10,pointers:1,direction:Le},getTouchAction:function(){var e=this.options.direction,t=[];return e&De&&t.push(nt),e&_e&&t.push(it),t},directionTest:function(e){var t=this.options,i=!0,n=e.distance,a=e.direction,r=e.deltaX,o=e.deltaY;return a&t.direction||(n=t.direction&De?(a=0===r?Ae:r<0?qe:$e,i=r!=this.pX,Math.abs(e.deltaX)):(a=0===o?Ae:o<0?Ce:Oe,i=o!=this.pY,Math.abs(e.deltaY))),e.direction=a,i&&n>t.threshold&&a&t.direction},attrTest:function(e){return Z.prototype.attrTest.call(this,e)&&(this.state&rt||!(this.state&rt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=U(e.direction);t&&this.manager.emit(this.options.event+t,e),this._super.emit.call(this,e)}}),s(J,Z,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[tt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&rt)},emit:function(e){if(this._super.emit.call(this,e),1!==e.scale){var t=e.scale<1?"in":"out";this.manager.emit(this.options.event+t,e)}}}),s(ee,X,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Je]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,a=e.deltaTime>t.time;if(this._input=e,!n||!i||e.eventType&(xe|Ie)&&!a)this.reset();else if(e.eventType&Pe)this.reset(),this._timer=d(function(){this.state=dt,this.tryEmit()},t.time,this);else if(e.eventType&xe)return dt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===dt&&(e&&e.eventType&xe?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=he(),this.manager.emit(this.options.event,this._input)))}}),s(te,Z,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[tt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&rt)}}),s(ie,Z,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:De|_e,pointers:1},getTouchAction:function(){return K.prototype.getTouchAction.call(this)},attrTest:function(e){var t,i=this.options.direction;return i&(De|_e)?t=e.velocity:i&De?t=e.velocityX:i&_e&&(t=e.velocityY),this._super.attrTest.call(this,e)&&i&e.direction&&e.distance>this.options.threshold&&pe(t)>this.options.velocity&&e.eventType&xe},emit:function(e){var t=U(e.direction);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),s(ne,X,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[et]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,a=e.deltaTime<t.time;if(this.reset(),e.eventType&Pe&&0===this.count)return this.failTimeout();if(n&&a&&i){if(e.eventType!=xe)return this.failTimeout();var r=!this.pTime||e.timeStamp-this.pTime<t.interval,o=!this.pCenter||_(this.pCenter,e.center)<t.posThreshold,s;if(this.pTime=e.timeStamp,this.pCenter=e.center,o&&r?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=d(function(){this.state=dt,this.tryEmit()},t.interval,this),rt):dt}return 32},failTimeout:function(){return this._timer=d(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==dt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ae.VERSION="2.0.4",ae.defaults={domEvents:!1,touchAction:Ke,enable:!0,inputTarget:null,inputClass:null,preset:[[te,{enable:!1}],[J,{enable:!1},["rotate"]],[ie,{direction:De}],[K,{direction:De},["swipe"]],[ne],[ne,{event:"doubletap",taps:2},["tap"]],[ee]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ct=1,pt=2;re.prototype={set:function(e){return r(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var i,n=this.recognizers,a=t.curRecognizer;(!a||a&&a.state&dt)&&(a=t.curRecognizer=null);for(var r=0;r<n.length;)i=n[r],2===t.stopped||a&&i!=a&&!i.canRecognizeWith(a)?i.reset():i.recognize(e),!a&&i.state&(rt|ot|st)&&(a=t.curRecognizer=i),r++}},get:function(e){if(e instanceof X)return e;for(var t=this.recognizers,i=0;i<t.length;i++)if(t[i].options.event==e)return t[i];return null},add:function(e){if(i(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),(e.manager=this).touchAction.update(),e},remove:function(e){if(i(e,"remove",this))return this;var t=this.recognizers;return e=this.get(e),t.splice(y(t,e),1),this.touchAction.update(),this},on:function(e,t){var i=this.handlers;return a(g(e),function(e){i[e]=i[e]||[],i[e].push(t)}),this},off:function(e,t){var i=this.handlers;return a(g(e),function(e){t?i[e].splice(y(i[e],t),1):delete i[e]}),this},emit:function(e,t){this.options.domEvents&&se(e,t);var i=this.handlers[e]&&this.handlers[e].slice();if(i&&i.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](t),n++}},destroy:function(){this.element&&oe(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},r(ae,{INPUT_START:Pe,INPUT_MOVE:2,INPUT_END:xe,INPUT_CANCEL:Ie,STATE_POSSIBLE:at,STATE_BEGAN:rt,STATE_CHANGED:ot,STATE_ENDED:st,STATE_RECOGNIZED:dt,STATE_CANCELLED:ut,STATE_FAILED:32,DIRECTION_NONE:Ae,DIRECTION_LEFT:qe,DIRECTION_RIGHT:$e,DIRECTION_UP:Ce,DIRECTION_DOWN:Oe,DIRECTION_HORIZONTAL:De,DIRECTION_VERTICAL:_e,DIRECTION_ALL:Le,Manager:re,Input:P,TouchAction:W,TouchInput:B,MouseInput:M,PointerEventInput:N,TouchMouseInput:Y,SingleTouchInput:j,Recognizer:X,AttrRecognizer:Z,Tap:ne,Pan:K,Swipe:ie,Pinch:J,Rotate:te,Press:ee,on:h,off:f,each:a,merge:o,extend:r,inherit:s,bindFn:u,prefixed:T}),typeof define==le&&define.amd?define(function(){return ae}):"undefined"!=typeof module&&module.exports?module.exports=ae:e[t]=ae}(window,document,"Hammer"),"function"==typeof define&&define.amd)define(["imagesLoaded","Hammer"],defineSequence);else{Hammer="function"!=typeof Hammer?null:Hammer,imagesLoaded="function"!=typeof imagesLoaded?null:imagesLoaded;var sequence=defineSequence(imagesLoaded,Hammer)}
/*
 * Edited in Fix for Safari issue
 * Vidbg v1.1.1(BETA) (https://github.com/blakewilson/vidbg)
 * Vidbg By Blake Wilson
 * Edited in Fix for Safari issue
 * @license Licensed Under MIT (https://github.com/blakewilson/vidbg/blob/master/LICENSE)
 */!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):e.jQuery)}(this,function(l){"use strict";function n(e){var t={},i,n,a,r,o,s,d;for(d=0,s=(o=e.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,",").split(",")).length;d<s&&(-1===(n=o[d]).search(/^(http|https|ftp):\/\//)&&-1!==n.search(":"));d++)i=n.indexOf(":"),a=n.substring(0,i),(r=n.substring(i+1))||(r=void 0),"string"==typeof r&&(r="true"===r||"false"!==r&&r),"string"==typeof r&&(r=isNaN(r)?r:+r),t[a]=r;return null==a&&null==r?e:t}function c(e){var t=(e=""+e).split(/\s+/),i="50%",n="50%",a,r,o;for(o=0,a=t.length;o<a;o++)"left"===(r=t[o])?i="0%":"right"===r?i="100%":"top"===r?n="0%":"bottom"===r?n="100%":"center"===r?0===o?i="50%":n="50%":0===o?i=r:n=r;return{x:i,y:n}}function p(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,i,n){return t+t+i+i+n+n});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null}function a(e,t,i){this.$element=l(e),"string"==typeof t&&(t=n(t)),i?"string"==typeof i&&(i=n(i)):i={},this.settings=l.extend({},r,i),this.path=t;try{this.init()}catch(e){if(e.message!==h)throw e}}var e="vidbg",r={volume:1,playbackRate:1,muted:!0,loop:!0,autoplay:!0,position:"50% 50%",overlay:!1,overlayColor:"#000",overlayAlpha:.3,resizing:!0},h="Not implemented";a.prototype.init=function(){var e=this,t=e.path,i=t,n="",a=e.$element,r=e.settings,o=c(r.position),s,d,u;d=e.$wrapper=l('<div class="vidbg-container">').css({position:"absolute","z-index":-1,top:0,left:0,bottom:0,right:0,overflow:"hidden","-webkit-background-size":"cover","-moz-background-size":"cover","-o-background-size":"cover","background-size":"cover","background-repeat":"no-repeat","background-position":o.x+" "+o.y}),"object"==typeof t&&(t.poster?i=t.poster:t.mp4?i=t.mp4:t.webm&&(i=t.webm)),d.css("background-image","url("+i+")"),"static"===a.css("position")&&a.css("position","relative"),a.css("z-index","1"),a.is("body")&&d.css({position:"fixed"}),a.prepend(d),s=e.$video="object"==typeof t?(t.mp4&&(n+='<source src="'+t.mp4+'" type="video/mp4">'),t.webm&&(n+='<source src="'+t.webm+'" type="video/webm">'),l("<video>"+n+"</video>")):l('<video><source src="'+t+'" type="video/mp4"><source src="'+t+'" type="video/webm"></video>');try{s.prop({autoplay:r.autoplay,loop:r.loop,volume:r.volume,muted:r.muted,defaultMuted:r.muted,playbackRate:r.playbackRate,defaultPlaybackRate:r.playbackRate})}catch(e){throw new Error(h)}s.css({margin:"auto",position:"absolute","z-index":-1,top:o.y,left:o.x,"-webkit-transform":"translate(-"+o.x+", -"+o.y+")","-ms-transform":"translate(-"+o.x+", -"+o.y+")","-moz-transform":"translate(-"+o.x+", -"+o.y+")",transform:"translate(-"+o.x+", -"+o.y+")","max-width":"none",visibility:"hidden",opacity:0}).one("canplaythrough.vidbg",function(){e.resize(),-1==navigator.userAgent.indexOf("Safari")||-1!=navigator.userAgent.indexOf("Chrome")||isMobile_kt_slider.any()||s.css({visibility:"visible",opacity:1})}).one("playing.vidbg",function(){s.css({visibility:"visible",opacity:1}),d.css("background-image","none")}),a.on("resize.vidbg",function(){r.resizing&&e.resize()}),d.append(s),u=e.$overlay=l('<div class="vidbg-overlay">').css({position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba("+p(r.overlayColor).r+", "+p(r.overlayColor).g+", "+p(r.overlayColor).b+", "+r.overlayAlpha+")"}),r.overlay&&d.append(u)},a.prototype.getVideoObject=function(){return this.$video[0]},a.prototype.resize=function(){if(this.$video){var e=this.$wrapper,t=this.$video,i=t[0],n=i.videoHeight,a=i.videoWidth,r=e.height(),o=e.width();r/n<o/a?t.css({width:o+2,height:"auto"}):t.css({width:"auto",height:r+2})}},a.prototype.destroy=function(){delete l.vidbg.lookup[this.index],this.$video&&this.$video.off("vidbg"),this.$element.off("vidbg").removeData("vidbg"),this.$wrapper.remove()},l.vidbg={lookup:[]},l.fn.vidbg=function(e,t){var i;return this.each(function(){(i=l.data(this,"vidbg"))&&i.destroy(),(i=new a(this,e,t)).index=l.vidbg.lookup.push(i)-1,l.data(this,"vidbg",i)}),this},l(document).ready(function(){var e=l(window);e.on("resize.vidbg",function(){for(var e=l.vidbg.lookup.length,t=0,i;t<e;t++)(i=l.vidbg.lookup[t])&&i.settings.resizing&&i.resize()}),e.on("unload.vidbg",function(){return!1}),l(document).find("[data-vidbg-bg]").each(function(e,t){var i=l(t),n=i.data("vidbg-options"),a=i.data("vidbg-bg");i.vidbg(a,n)})})}),"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(d,a,r){var o=function e(t){
// Load Youtube API
var i=r.createElement("script"),n=r.getElementsByTagName("head")[0];"file://"==a.location.origin?i.src="http://www.youtube.com/iframe_api":i.src="//www.youtube.com/iframe_api",n.appendChild(i),i=// Clean up Tags.
n=null,s(t)},s=function e(t){
// Listen for Gobal YT player callback
"undefined"==typeof YT&&void 0===a.loadingPlayer?(
// Prevents Ready Event from being called twice
a.loadingPlayer=!0,// Creates deferred so, other players know when to wait.
a.dfd=d.Deferred(),a.onYouTubeIframeAPIReady=function(){a.onYouTubeIframeAPIReady=null,a.dfd.resolve("done"),t()}):"object"===("undefined"==typeof YT?"undefined":_typeof(YT))?t():a.dfd.done(function(e){t()})};// YTPlayer Object
YTPlayer={player:null,
// Defaults
defaults:{ratio:16/9,videoId:"LSmgKRx5pBo",mute:!0,repeat:!0,width:d(a).width(),playButtonClass:"YTPlayer-play",pauseButtonClass:"YTPlayer-pause",muteButtonClass:"YTPlayer-mute",volumeUpClass:"YTPlayer-volume-up",volumeDownClass:"YTPlayer-volume-down",start:0,pauseOnScroll:!1,fitToBackground:!0,playerVars:{iv_load_policy:3,modestbranding:1,autoplay:1,controls:0,showinfo:0,wmode:"opaque",branding:0,autohide:0},events:null},
/**
     * @function init
     * Intializes YTPlayer object
     */
init:function e(t,i){var n=this;return n.userOptions=i,n.$body=d("body"),n.$node=d(t),n.$window=d(a),// Setup event defaults with the reference to this
n.defaults.events={onReady:function e(t){n.onPlayerReady(t),// setup up pause on scroll
n.options.pauseOnScroll&&n.pauseOnScroll(),// Callback for when finished
"function"==typeof n.options.callback&&n.options.callback.call(this)},onStateChange:function e(t){1===t.data?(n.$node.find("img").fadeOut(400),n.$node.addClass("loaded")):0===t.data&&n.options.repeat&&
// video ended and repeat option is set true
n.player.seekTo(n.options.start)}},n.options=d.extend(!0,{},n.defaults,n.userOptions),n.options.height=Math.ceil(n.options.width/n.options.ratio),n.ID=(new Date).getTime(),n.holderID="YTPlayer-ID-"+n.ID,n.options.fitToBackground?n.createBackgroundVideo():n.createContainerVideo(),// Listen for Resize Event
n.$window.on("resize.YTplayer"+n.ID,function(){n.resize(n)}),o(n.onYouTubeIframeAPIReady.bind(n)),n.resize(n),n
/**
     * @function pauseOnScroll
     * Adds window events to pause video on scroll.
     */},pauseOnScroll:function e(){var t=this;t.$window.on("scroll.YTplayer"+t.ID,function(){var e;1===t.player.getPlayerState()&&t.player.pauseVideo()}),t.$window.scrollStopped(function(){var e;2===t.player.getPlayerState()&&t.player.playVideo()})},
/**
     * @function createContainerVideo
     * Adds HTML for video in a container
     */
createContainerVideo:function e(){var t=this,i=d('<div id="ytplayer-container'+t.ID+'" >                                    <div id="'+t.holderID+'" class="ytplayer-player-inline"></div>                                     </div>                                     <div id="ytplayer-shield" class="ytplayer-shield"></div>');
/*jshint multistr: true */t.$node.append(i),t.$YTPlayerString=i,i=null},
/**
     * @function createBackgroundVideo
     * Adds HTML for video background
     */
createBackgroundVideo:function e(){
/*jshint multistr: true */
var t=this,i=d('<div id="ytplayer-container'+t.ID+'" class="ytplayer-container background">                                    <div id="'+t.holderID+'" class="ytplayer-player"></div>                                    </div>                                    <div id="ytplayer-shield" class="ytplayer-shield"></div>');t.$node.append(i),t.$YTPlayerString=i,i=null},
/**
     * @function resize
     * Resize event to change video size
     */
resize:function e(t){
//var self = this;
var i=t.$node;t.options.fitToBackground||(i=t.$node);var n=i.width(),a,
// player width, to be defined
r=i.height(),o,
// player height, tbd
s=d("#"+t.holderID);// when screen aspect ratio differs from video, video must center and underlay one dimension
n/t.options.ratio<r?(a=Math.ceil(r*t.options.ratio),// get new player width
s.width(a).height(r).css({position:"absolute",left:(n-a)/2,top:0})):(
// new video width < window width (gap to right)
o=Math.ceil(n/t.options.ratio),// get new player height
s.width(n).height(o).css({position:"absolute",left:0,top:(r-o)/2})),i=s=null},
/**
     * @function onYouTubeIframeAPIReady
     * @ params {object} YTPlayer object for access to options
     * Youtube API calls this function when the player is ready.
     */
onYouTubeIframeAPIReady:function e(){var t=this;t.player=new a.YT.Player(t.holderID,t.options)},
/**
     * @function onPlayerReady
     * @ params {event} window event from youtube player
     */
onPlayerReady:function e(t){this.options.mute&&t.target.mute(),t.target.playVideo()
/**
     * @function getPlayer
     * returns youtube player
     */},getPlayer:function e(){return this.player},
/**
     * @function destroy
     * destroys all!
     */
destroy:function e(){var t=this;t.$node.removeData("yt-init").removeData("ytPlayer").removeClass("loaded"),t.$YTPlayerString.remove(),d(a).off("resize.YTplayer"+t.ID),d(a).off("scroll.YTplayer"+t.ID),t.$body=null,t.$node=null,t.$YTPlayerString=null,t.player.destroy(),t.player=null}},// Scroll Stopped event.
d.fn.scrollStopped=function(e){var t=d(this),i=this;t.scroll(function(){t.data("scrollTimeout")&&clearTimeout(t.data("scrollTimeout")),t.data("scrollTimeout",setTimeout(e,250,i))})},// Create plugin
d.fn.YTPlayer=function(i){return this.each(function(){var e=this;d(e).data("yt-init",!0);var t=Object.create(YTPlayer);t.init(e,i),d.data(e,"ytPlayer",t)})}}(jQuery,window,document),
/*
 * jQuery.appear
 * https://github.com/bas2k/jquery.appear/
 * http://code.google.com/p/jquery-appear/
 * http://bas2k.ru/
 *
 * Copyright (c) 2009 Michael Hixson
 * Copyright (c) 2012-2014 Alexander Brovikov
 * Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 */
function(n){n.fn.appear_ksp=function(i,e){var h=n.extend({
//arbitrary data to pass to fn
data:void 0,
//call fn only on the first appear?
one:!0,
// X & Y accuracy
accX:0,accY:0},e);return this.each(function(){var c=n(this);
//whether the element is currently visible
if(c.appeared=!1,i){var p=n(window),t=function(){
//is the element hidden?
if(c.is(":visible")){
//is the element inside the visible window?
var e=p.scrollLeft(),t=p.scrollTop(),i=c.offset(),n=i.left,a=i.top,r=h.accX,o=h.accY,s=c.height(),d=p.height(),u=c.width(),l=p.width();t<=a+s+o&&a<=t+d+o&&e<=n+u+r&&n<=e+l+r?
//trigger the custom event
c.appeared||c.trigger("appear",h.data):
//it scrolled out of view
c.appeared=!1}else
//it became hidden
c.appeared=!1},e=function(){
//is this supposed to happen only once?
if(
//mark the element as visible
c.appeared=!0,h.one){
//remove the check
p.unbind("scroll",t);var e=n.inArray(t,n.fn.appear_ksp.checks);0<=e&&n.fn.appear_ksp.checks.splice(e,1)}
//trigger the original fn
i.apply(this,arguments)};
//fires the appear event when appropriate
//bind the modified fn to the element
h.one?c.one("appear",h.data,e):c.bind("appear",h.data,e),
//check whenever the window scrolls
p.scroll(t),
//check whenever the dom changes
n.fn.appear_ksp.checks.push(t),
//check now
t()}else
//trigger the custom event
c.trigger("appear",h.data)})},
//keep a queue of appearance checks
n.extend(n.fn.appear_ksp,{checks:[],timeout:null,
//process the queue
checkAll:function(){var e=n.fn.appear_ksp.checks.length;if(0<e)for(;e--;)n.fn.appear_ksp.checks[e]()},
//check the queue asynchronously
run:function(){n.fn.appear_ksp.timeout&&clearTimeout(n.fn.appear_ksp.timeout),n.fn.appear_ksp.timeout=setTimeout(n.fn.appear_ksp.checkAll,20)}}),
//run checks when these methods are called
n.each(["append","prepend","after","before","attr","removeAttr","addClass","removeClass","toggleClass","remove","css","show","hide"],function(e,t){var i=n.fn[t];i&&(n.fn[t]=function(){var e=i.apply(this,arguments);return n.fn.appear_ksp.run(),e})})}(jQuery);var isMobile_kt_slider={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile_kt_slider.Android()||isMobile_kt_slider.BlackBerry()||isMobile_kt_slider.iOS()||isMobile_kt_slider.Opera()||isMobile_kt_slider.Windows()}};jQuery(document).ready(function(f){function v(e){var e,t=f(e="."+e).find(".kad-slide-1 img.kt-ratio-img").height(),i=f(e).attr("data-ktslider-height");if(""==t&&(t=i),i<t)var n=i,a="50%",r=-+t/2;else var n=t,a=0,r=0;f(e).find(".kad-slider").height(n),f(e).find(".kad-slider .kad-slider-canvas").height(n),f(e).find(".kad-slider .kad-slide img.kt-ratio-img").css("top",a),f(e).find(".kad-slider .kad-slide img.kt-ratio-img").css("margin-top",r)}function d(e){var e,t=f(e="."+e).attr("data-ktslider-count"),i=f(e).attr("data-ktslider-height");if("1"==t)var n=f(e).find(".kad-slider .kad-slide img.kt-ratio-img").height();else var n=f(e).find(".kad-slider .seq-in .kad-slide img.kt-ratio-img").height();if(""==n&&(n=i),i<n)var a=i,r="50%",o=-+n/2;else var a=n,r=0,o=0;f(e).find(".kad-slider").height(a),f(e).find(".kad-slider .kad-slider-canvas").height(a),"1"==t?(jQuery(".kad-slider .kad-slide img.kt-ratio-img").css("top",r),jQuery(".kad-slider .kad-slide img.kt-ratio-img").css("margin-top",o)):(jQuery(".kad-slider .seq-in .kad-slide img.kt-ratio-img").css("top",r),jQuery(".kad-slider .seq-in .kad-slide img.kt-ratio-img").css("margin-top",o))}function m(e){var t,i;jQuery("#"+e+".kad-slider").find(".ksp-layer").each(function(){f(this).addClass(f(this).data("in"))}),jQuery(".kad-slider .kad-slide-1").find(".ksp-layer").each(function(){var e=f(this).data("delay"),t=f(this).data("ease");1100<t?t-=500:600<t&&(t-=400);var i=e+t;f(this).css({opacity:0}),f(this).delay(i).queue(function(e){e(),f(this).css({opacity:1})})})}function g(e){var t=jQuery("#"+e+".kad-slider .kad-slide-1"),i=t.attr("data-video-slide");if("youtube"==i){var n=t.attr("data-video-id"),a=parseInt(t.attr("data-video-sound")),r=parseInt(t.attr("data-video-loop")),o=t.attr("data-video-ratio"),s=parseInt(t.attr("data-video-start")),d=parseInt(t.attr("data-video-playpause"));1==a?(a=!1,t.find(".ksp-background-video-mute").show()):a=!0,o=""!=o?o:"1.777777778",s=""!=s?s:"0",r=1==r,1==d&&t.find(".ksp-background-video-pause").show(),t.YTPlayer({ratio:o,width:t.width(),mute:a,repeat:r,videoId:n,host:"http://www.youtube.com",fitToBackground:!1,playerVars:{rel:0,start:s}})}else if("html5"==i){var u=t.attr("data-video-mp4"),l=t.attr("data-video-webm"),c=t.attr("data-video-poster"),a=parseInt(t.attr("data-video-sound")),r=parseInt(t.attr("data-video-loop")),d=parseInt(t.attr("data-video-playpause"));1==a?(a=!1,t.find(".ksp-background-video-mute").show()):a=!0,r=1==r,1==d&&t.find(".ksp-background-video-pause").show(),t.vidbg({mp4:u,webm:l,poster:c},{muted:a,loop:r,overlay:!1})}}function y(e){var t;if("1"==jQuery("."+e).attr("data-ktslider-count"))var i=jQuery("."+e+" .kad-slide");else var i=jQuery("."+e+" .kad-slider .seq-in .kad-slide");var n=i.attr("data-video-slide"),a;if("youtube"==n)(a=i.data("ytPlayer").player).pauseVideo();else if("html5"==n){var a;(a=i.find(".vidbg-container video")).get(0)&&(a.get(0).paused||a.get(0).pause())}}function k(e){var t;if("1"==jQuery("."+e).attr("data-ktslider-count"))var i=jQuery("."+e+" .kad-slide");else var i=jQuery("."+e+" .kad-slider .seq-in .kad-slide");var n=i.attr("data-video-slide");if("youtube"==n)if(void 0!==i.data("ytPlayer")){var a;(a=i.data("ytPlayer").player).playVideo()}else{var r=i.attr("data-video-id"),o=parseInt(i.attr("data-video-sound")),s=parseInt(i.attr("data-video-loop")),d=parseInt(i.attr("data-video-ratio")),u=parseInt(i.attr("data-video-start")),l=parseInt(i.attr("data-video-playpause"));1==o?(o=!1,i.find(".ksp-background-video-mute").show()):o=!0,d=""!=d?d:"16 / 9",u=""!=u?u:"0",s=1==s,1==l&&i.find(".ksp-background-video-pause").show(),i.YTPlayer({ratio:d,width:i.width(),mute:o,repeat:s,videoId:r,fitToBackground:!1,playerVars:{rel:0,start:u}})}else if("html5"==n){var a;if((a=i.find(".vidbg-container video")).get(0))a.get(0).play();else{var c=i.attr("data-video-mp4"),p=i.attr("data-video-webm"),h=i.attr("data-video-poster"),o=parseInt(i.attr("data-video-sound")),s=parseInt(i.attr("data-video-loop")),l=parseInt(i.attr("data-video-playpause"));1==o?(o=!1,i.find(".ksp-background-video-mute").show()):o=!0,s=1==s,1==l&&i.find(".ksp-background-video-pause").show(),i.vidbg({mp4:c,webm:p,poster:h},{muted:o,loop:s,overlay:!1})}}}function b(e){var t=jQuery("."+e).attr("data-ktslider-count");if(jQuery("."+e).find(".ksp-layer").each(function(){f(this).css({opacity:0})}),"1"==t)var i=jQuery("."+e+" .kad-slide");else var i=jQuery("."+e+" .kad-slider .seq-in .kad-slide");i.find(".ksp-layer").each(function(){var e=f(this).data("delay"),t=f(this).data("ease");1100<t?t-=500:600<t?t-=300:200<t&&(t-=200);var i=e+t;f(this).delay(i).queue(function(e){e(),f(this).css({opacity:1})})})}function T(e){setTimeout(function(){w(e)},25)}function w(u){function t(e){return e*n()}function i(e,t){var i=f(u).height(),n=f(u).attr("data-ktslider-height"),a=i/n;if(n<=i)var r,o,s,d=e*a+(t*a-t)/2.5;else var d=e*a;return d}function n(){var e=f(u).width(),t=f(u).attr("data-ktslider-width");return t<=e?1:e/t}function e(){var e,t;return f(u).height()/f(u).attr("data-ktslider-height")}
//console.log(container);
var a=u,u,r=f(u="."+u).attr("data-ktslider-height-type");if("full"==r){var o=jQuery(window).height(),s=f(u).data("ktslider-height-offset");f(s).length?offset_height=f(s).height():offset_height=0,f(u).find(".kad-slider").height(o-offset_height),f(u).find(".kad-slider .kad-slider-canvas").height(o-offset_height)}else"ratio"==r?d(a):(f(u).find(".kad-slider").height(t(f(u).attr("data-ktslider-height"))),f(u).find(".kad-slider .kad-slider-canvas").height(t(f(u).attr("data-ktslider-height"))));f(u).find(".kad-slide").each(function(){f(this).find(".ksp-layer-wrap").each(function(){f(this).css({top:i(f(this).data("top"),f(this).height()),left:t(f(this).data("left"))});var e=f(this).find(".ksp-layer");
// Element contains text
e.hasClass("ksp-text-layer")?e.css({"line-height":i(e.data("line-height"))+"px","letter-spacing":t(e.data("letter-spacing"))+"px","font-size":t(e.data("font-size"))}):e.hasClass("ksp-btn-layer")?e.css({"line-height":t(e.data("line-height"))+"px","letter-spacing":t(e.data("letter-spacing"))+"px","padding-left":t(e.data("padding"))+"px","padding-right":t(e.data("padding"))+"px","border-width":t(e.data("border-width"))+"px","font-size":t(e.data("font-size"))}):e.hasClass("ksp-image-layer")&&e.css({width:t(e.data("width")),height:t(e.data("height"))})})})}
/* LEGACY */
function h(){var e=jQuery(window).height();jQuery(".kad-slider-wrapper .kad-slider").height(e),jQuery(".kad-slider-wrapper .kad-slider .kad-slider-canvas").height(e)}function S(e){var e,t=f(e="."+e).find(".kad-slide img.kt-ratio-img").height(),i=f(e).attr("data-ktslider-height");if(i<t)var n=i,a="50%",r=-+t/2;else var n=t,a=0,r=0;f(e).find(".kad-slider").height(n),f(e).find(".kad-slider .kad-slider-canvas").height(n),f(e).find(".kad-slider .kad-slide img").css("top",a),f(e).find(".kad-slider .kad-slide img").css("margin-top",r)}function P(e){var e,t=f(e="."+e).attr("data-ktslider-count"),i=f(e).attr("data-ktslider-height");if("1"==t)var n=f(e).find(".kad-slider .kad-slide img.kt-ratio-img").height();else var n=f(e).find(".kad-slider .seq-in .kad-slide img.kt-ratio-img").height();if(i<n)var a=i,r="50%",o=-+n/2;else var a=n,r=0,o=0;f(e).find(".kad-slider").height(a),f(e).find(".kad-slider .kad-slider-canvas").height(a),"1"==t?(f(e).find(".kad-slider .kad-slide img").css("top",r),f(e).find(".kad-slider .kad-slide img").css("margin-top",o)):(f(e).find(".kad-slider .seq-in .kad-slide img").css("top",r),f(e).find(".kad-slider .seq-in .kad-slide img").css("margin-top",o))}
// Lagacy Scroll fade
function e(){var e=-.004*f(window).scrollTop();f(".sliderclass .kad-slider-parallax .kad-slider .caption-case-inner").css({opacity:e+1}),f(".sliderclass .kad_fullslider_arrow").css({opacity:e+1}),f(".sliderclass .kad-slider ul.kad-slider-pagination").css({opacity:e+1})}f(".kad-slider-parallax .kad-slider .kad-slide").each(function(){f(this).css({backgroundPosition:"50% 0px"}),f(this).appear_ksp(function(){var i=f(this);f(window).scroll(function(){var e,t="50% "+-f(window).scrollTop()/10+"px";i.css({backgroundPosition:t})})})}),f(".ksp-background-video-buttons-youtube a").on("click",function(){var e,t=f(this).closest(".kad-slide").data("ytPlayer").player;f(this).hasClass("ksp-background-video-play")?(t.playVideo(),f(this).siblings(".ksp-background-video-pause").show(),f(this).hide()):f(this).hasClass("ksp-background-video-pause")?(t.pauseVideo(),f(this).siblings(".ksp-background-video-play").show(),f(this).hide()):f(this).hasClass("ksp-background-video-mute")?(t.mute(),f(this).siblings(".ksp-background-video-unmute").show(),f(this).hide()):f(this).hasClass("ksp-background-video-unmute")&&(t.unMute(),f(this).siblings(".ksp-background-video-mute").show(),f(this).hide())}),f(".ksp-background-video-buttons-html5 a").on("click",function(){var e,t=f(this).closest(".kad-slide").find(".vidbg-container video");f(this).hasClass("ksp-background-video-play")?(t.get(0).play(),f(this).siblings(".ksp-background-video-pause").show(),f(this).hide()):f(this).hasClass("ksp-background-video-pause")?(t.get(0).pause(),f(this).siblings(".ksp-background-video-play").show(),f(this).hide()):f(this).hasClass("ksp-background-video-mute")?(t.prop("muted",!0),f(this).siblings(".ksp-background-video-unmute").show(),f(this).hide()):f(this).hasClass("ksp-background-video-unmute")&&(t.prop("muted",!1),f(this).siblings(".ksp-background-video-mute").show(),f(this).hide())}),
//init Slider
f(".ksp-slider-wrapper").each(function(e){var t=f(this),i=t.attr("data-ktslider-auto-play"),n=t.attr("data-ktslider-pause-time"),a=t.attr("data-ktslider-id"),r=t.attr("data-ktslider-height"),o=t.attr("data-ktslider-pause-hover"),s=t.attr("data-ktslider-height-type"),d=t.attr("data-ktslider-width"),u=t.attr("data-ktslider-count"),l="kad-slider-"+a;t.find(".ksp-btn-layer").each(function(){f(this).mouseover(function(){f(this).css("color",f(this).data("hcolor")),f(this).css("border-color",f(this).data("hborder-color")),f(this).css("background",f(this).data("hbackground-color"))}),f(this).mouseout(function(){f(this).css("color",f(this).data("color")),f(this).css("border-color",f(this).data("border-color")),f(this).css("background",f(this).data("background-color"))})}),"ratio"==s?t.find(".kad-slide-1 img.kt-ratio-img").imagesLoaded(function(){v(l),w(l)}):w(l);var c={animateStartingFrameIn:!1,autoPlay:i="true"==i,preloader:!0,autoPlayPauseOnHover:o="true"==o,autoPlayInterval:n,fadeFrameWhenSkipped:!0,fadeFrameTime:700,pagination:".ksp-pag-"+a,nextButton:".ksp-next-"+a,prevButton:".ksp-prev-"+a},p=document.getElementById(l),h=sequence(p,c);1==u?h.preloaded=function(){g(l),m(l)}:h.ready=function(){g(l),m(l)},h.currentPhaseStarted=function(e,t){y(t.$container.id)},h.nextPhaseEnded="ratio"==s?function(e,t){w(t.$container.id),k(t.$container.id),b(t.$container.id)}:function(e,t){k(t.$container.id),b(t.$container.id)},h.throttledResize=function(e){w(e.$container.id)},f(window).on("panelsStretchRows",T(l))}),f(".sliderclass .kad-slider-parallax .kad-slider .caption-case-inner").css({opacity:1}),f(".sliderclass .kad_fullslider_arrow").css({opacity:1}),f(".sliderclass .kad-slider ul.kad-slider-pagination").css({opacity:1}),f(window).scroll(e),
// Lagacy INIT
f(".kad-slider-wrapper").each(function(){var e=f(this),t=e.attr("data-ktslider-auto-play"),i=e.attr("data-ktslider-pause-time"),n=e.attr("data-ktslider-pause-hover"),a=e.attr("data-ktslider-id"),r=e.attr("data-ktslider-height"),o=e.attr("data-ktslider-height-type"),s=e.attr("data-ktslider-width"),d="kad-slider-"+a,u;if("full"==o)h(),isMobile_kt_slider.any()?f(window).on("orientationchange",function(){h()}):f(window).resize(function(){clearTimeout(u),u=setTimeout(h,100)});else if("ratio"==o){var u;if(S(d),isMobile_kt_slider.any())f(window).on("orientationchange",function(){P()});else f(window).resize(function(){clearTimeout(u),u=setTimeout(P,100)})}var l={animateStartingFrameIn:!0,autoPlay:t="true"==t,preloader:!0,autoPlayPauseOnHover:n="true"==n,autoPlayInterval:i,fadeFrameWhenSkipped:!0,fadeFrameTime:700,pagination:".kad-pag-"+a,nextButton:".kad-next-"+a,prevButton:".kad-prev-"+a},c=document.getElementById(d),p=sequence(c,l);"ratio"==o&&(p.nextPhaseEnded=function(e,t){P(t.$container.id)},p.throttledResize=function(e){P(e.$container.id)})})});